(function(){var n={}.hasOwnProperty;!function(n){var t;t="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(t.PublisherSubscriber=n(t),define(function(){return t.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(t):t.PublisherSubscriber=n(t)}(function(t){var l,i,u,e,o,r,f,s,c,a,h,g;return l={},e=null!=(a=null!=(h=t._)?h.generateID:void 0)?a:function(){var n;return n=0,function(){return++n}}(),o=function(n){return null!=n.oid?n.oid:n.oid=e()},g=function(n,t){return"string"==typeof t?n[t]:t},r=function(n,t){var l,i,u;l=null!=t._3?t._3:t._3={},u=null!=l[i=null!=n.oid?n.oid:n.oid=e()]?l[i]:l[i]=[n,0],u[1]+=1},i=function(n,t,l){var i,u;i=null!=n.oid?n.oid:n.oid=e(),u=t._3[i],null!=u&&(u[1]-=0|l)<1&&delete t._3[i]},u=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},f=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},s=function(n){return n&&n.on===l.on},function(){var t,i,u,e,o,r,f,s,c;f=function(n,t,l,i){var u,e;return u=!1,e=function(){u===!1&&(u=!0,n.off(t,e,i),l.apply(i,arguments))},e._cb=l,e},t=function(n,t,l,i,u){var e,o;o=u===!0?f(n,t,l,i):l,(null!=(e=null!=n._2?n._2:n._2={})[t]?e[t]:e[t]=[]).push(void 0,o,i)},e=function(n,l,i,u,e){var o,r,f;if(-1===l.indexOf(" "))t(n,l,i,u,e);else for(f=l.length,o=-1,r=0;++o<=f;)o===f||" "===l[o]?r>0&&(t(n,l.slice(o-r,o),i,u,e),r=0):++r},i=function(n,l,i,u,e){var o,r,f;for(f=0,r=l.length;r>f;f++)o=l[f],t(n,o,i,u,e)},u=function(n,t,l,i){var u;for(u in t)e(n,u,"string"==typeof t[u]?n[t[u]]:t[u],l,i)},s={bind:!1,bindOnce:!0},o=function(n,t){return l[n]=function(n,l,i){var o;return"string"==typeof n?l&&e(this,n,"string"==typeof l?this[l]:l,null!=i?i:this,t):u(this,n,null!=(o=null!=i?i:l)?o:this,t),this}};for(r in s)n.call(s,r)&&(c=s[r],o(r,c));l.on=l.bind,l.once=l.bindOnce}(),function(){var t,i,u,e,o,f,s,c;f=function(n,t,l,i){var u,e;return u=!1,e=function(){u===!1&&(u=!0,t.stopListening(n,l,e),i.apply(t,arguments))},e._cb=i,e},u=function(n,t,l,i,u){var e,o;o=u===!0?f(n,t,l,i):i,(null!=(e=null!=n._2?n._2:n._2={})[l]?e[l]:e[l]=[]).push(t,o,t),r(n,t)},o=function(n,t,l,i,e){var o,r,f;if(-1===l.indexOf(" "))u(n,t,l,i,e);else for(f=l.length,o=-1,r=0;++o<=f;)o===f||" "===l[o]?r>0&&(u(n,t,l.slice(o-r,o),i,e),r=0):++r},e=function(n,t,l,i){var u;for(u in l)o(n,t,u,"string"==typeof l[u]?t[l[u]]:l[u],i)},s={listenTo:!1,listenToOnce:!0},t=function(n,t){return l[n]=function(n,l,i){return"string"==typeof l?i&&o(n,this,l,"string"==typeof i?this[i]:i,t):e(n,this,l,t),this}};for(i in s)n.call(s,i)&&(c=s[i],t(i,c))}(),function(){var t,u,e,o,r,f,s,c;t=function(n,t,l){var i,u,e;for(u=n.length,e=[],i=-1;(i+=3)<u;)(t!==n[i-2]||l&&l!==n[i-1]&&l!==n[i-1]._cb)&&e.push(n[i-2],n[i-1],n[i]);return e},e=function(n,l,u,e){var o,r,f,s,c;s=0,c=n._2,null!=c&&null!=(o=c[u])&&(f=o.length,s+=f,f>2&&(r=t(o,l,e),s-=r.length),c[u]=r,s>0&&i(n,l,s/3))},c=function(n,l){var u,e,o,r,f,s;s=n._2,f=0;for(e in s)u=s[e],null!=u&&(r=u.length,f+=r,r>2&&(o=t(u,l),f-=o.length),s[e]=o);f>0&&i(n,l,f/3)},s=function(n){var t,l,i;i=n._3;for(t in i)l=i[t],c(l[0],n)},r=function(n,t,l,i){var u,e,o;for(o=l.length,u=-1,e=0;++u<=o;)u===o||" "===l[u]?e>0&&(f(n,t,l.slice(u-e,u),i),e=0):++e},f=function(n,t,l,i){var u,o,r;r=t._3;for(u in r)o=r[u],(null==n||o[0]===n)&&e(o[0],t,l,i)},o=function(t,l,i){var u,e;for(e in i)n.call(i,e)&&(u=i[e],r(t,l,e,"string"==typeof i[e]?l[i[e]]:i[e]))},u=function(n,t,l){var i,u,o,r,f;f=t._3;for(o in f)if(r=f[o],null==n||(u=r[0])===n)for(i in u._2)e(u,t,i,l)},l.stopListening=function(n,t,l){return null!=this._3&&(null==n&&null==t&&null==l?s(this):null!=t?"string"==typeof t?r(n,this,t,"string"==typeof l?this[l]:l):o(n,this,t):u(n,this,"string"==typeof l?this[l]:l)),this}}(),function(){var n,t,i;n=function(n,t){var l,i,u,e,o;switch(e=-1,o=n.length,o>0&&(l=t[0]),o>1&&(i=t[1]),o>2&&(u=t[2]),t.length){case 0:for(;(e+=3)<o;)n[e-1].call(n[e]);break;case 1:for(;(e+=3)<o;)n[e-1].call(n[e],l);break;case 2:for(;(e+=3)<o;)n[e-1].call(n[e],l,i);break;case 3:for(;(e+=3)<o;)n[e-1].call(n[e],l,i,u);break;default:for(;(e+=3)<o;)n[e-1].apply(n[e],t)}},i=function(t,l,i){var u,e,o,r,f,s;if(r=t[l],u=t.all,null!=r&&r.length>0){if(null!=u&&u.length>0)for(s=u,u=[],f=0,o=s.length;o>f;f++)e=s[f],u.push(e);n(r,i)}null!=u&&u.length>0&&(i.unshift(l),n(u,i),i.shift())},t=function(n,t,l){var u,e,o;for(o=t.length,u=-1,e=0;++u<=o;)u===o||" "===t[u]?e>0&&(i(n,t.slice(u-e,u),l),e=0):++e},l.trigger=l.notify=function(n){var l,u,e,o,r,f,s;if(null!=(r=this._2)&&(o=arguments.length)>0&&((u=n.indexOf(" "))>-1||null!=(f=r[n])&&f.length>0||null!=(s=r.all)&&s.length>0)){for(e=0,l=[];++e<o;)l.push(arguments[e]);u>-1?t(r,n,l):i(r,n,l)}return this}}(),function(){var n,t,u,e,o;t=function(n,t,l,u){var e,o,r,f,s;if(null!=(e=n._2[t])&&!((r=e.length)<3)){for(f=null,o=-1;(o+=3)<r;)null!=l&&l!==e[o-1]&&l!==e[o-1]._cb||null!=u&&u!==e[o]?(null!=f?f:f=[]).push(e[o-2],e[o-1],e[o]):null!=(s=e[o-2])&&i(n,s,1);n._2[t]=f}},e=function(n,l,i,u){var e,o,r;for(r=l.length,e=-1,o=0;++e<=r;)e===r||" "===l[e]?o>0&&(t(n,l.slice(e-o,e),i,u),o=0):++o},u=function(n,t,l){var i;for(i in t)e(n,i,"string"==typeof t[i]?n[t[i]]:t[i],l)},o=function(n){var t,l,u,e,o,r;o=n._2;for(l in o)if(t=o[l],null!=t)for(e=0,u=t.length;u>e;e+=3)r=t[e],null!=r&&i(n,r,1);n._2=null},n=function(n,l,i){var u;for(u in n._2)t(n,u,l,i)},l.unbind=l.off=function(t,l,i){return this._2&&(null==t&&null==l&&null==i?o(this):null!=t?"string"==typeof t?e(this,t,"string"==typeof l?this[l]:l,i):u(this,t,null!=i?i:l):n(this,l,i)),this}}(),{VERSION:"1.0.8",isNoisy:c,isEventable:s,InstanceMembers:l,included:function(n){"function"==typeof n.initializer&&n.initializer("publisher-subscriber",function(){null==this.oid&&(this.oid=e()),null==this._2&&(this._2={}),null==this._3&&(this._3={})})}}})}).call(this);