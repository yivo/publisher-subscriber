(function(){var n={}.hasOwnProperty;!function(n){var l;l="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(l.PublisherSubscriber=n(l),define(function(){return l.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(l):l.PublisherSubscriber=n(l)}(function(l){var t,i,u,e,o,r,f,s,c,a,h,g;return t={},e=null!=(a=null!=(h=l._)?h.generateID:void 0)?a:function(){var n;return n=0,function(){return++n}}(),o=function(n){return null!=n.oid?n.oid:n.oid=e()},g=function(n,l){return"string"==typeof l?n[l]:l},r=function(n,l){var t,i,u;t=null!=l._3?l._3:l._3={},u=null!=t[i=null!=n.oid?n.oid:n.oid=e()]?t[i]:t[i]=[n,0],u[1]+=1},i=function(n,l,t){var i,u;i=null!=n.oid?n.oid:n.oid=e(),u=l._3[i],null!=u&&(u[1]-=0|t)<1&&delete l._3[i]},u=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},f=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},s=function(n){return n&&n.on===t.on},function(){var l,i,u,e,o,r,f,s,c;f=function(n,l,t,i){var u,e;return u=!1,e=function(){u===!1&&(u=!0,n.off(l,e,i),t.apply(i,arguments))},e._cb=t,e},l=function(n,l,t,i,u){var e,o;o=u===!0?f(n,l,t,i):t,(null!=(e=null!=n._2?n._2:n._2={})[l]?e[l]:e[l]=[]).push(void 0,o,i)},e=function(n,t,i,u,e){var o,r,f;if(-1===t.indexOf(" "))l(n,t,i,u,e);else for(f=t.length,o=-1,r=0;++o<=f;)o===f||" "===t[o]?r>0&&(l(n,t.slice(o-r,o),i,u,e),r=0):++r},i=function(n,t,i,u,e){var o,r,f;for(f=0,r=t.length;r>f;f++)o=t[f],l(n,o,i,u,e)},u=function(n,l,t,i){var u;for(u in l)e(n,u,"string"==typeof l[u]?n[l[u]]:l[u],t,i)},s={bind:!1,bindOnce:!0},o=function(n,l){return t[n]=function(n,t,i){var o;return null!=n&&("string"==typeof n?null!=t&&e(this,n,"string"==typeof t?this[t]:t,null!=i?i:this,l):u(this,n,null!=(o=null!=i?i:t)?o:this,l)),this}};for(r in s)n.call(s,r)&&(c=s[r],o(r,c));t.on=t.bind,t.once=t.bindOnce}(),function(){var l,i,u,e,o,f,s,c;f=function(n,l,t,i){var u,e;return u=!1,e=function(){u===!1&&(u=!0,l.stopListening(n,t,e),i.apply(l,arguments))},e._cb=i,e},u=function(n,l,t,i,u){var e,o;o=u===!0?f(n,l,t,i):i,(null!=(e=null!=n._2?n._2:n._2={})[t]?e[t]:e[t]=[]).push(l,o,l),r(n,l)},o=function(n,l,t,i,e){var o,r,f;if(-1===t.indexOf(" "))u(n,l,t,i,e);else for(f=t.length,o=-1,r=0;++o<=f;)o===f||" "===t[o]?r>0&&(u(n,l,t.slice(o-r,o),i,e),r=0):++r},e=function(n,l,t,i){var u;for(u in t)o(n,l,u,"string"==typeof t[u]?l[t[u]]:t[u],i)},s={listenTo:!1,listenToOnce:!0},l=function(n,l){return t[n]=function(n,t,i){return null!=t&&("string"==typeof t?null!=i&&o(n,this,t,"string"==typeof i?this[i]:i,l):e(n,this,t,l)),this}};for(i in s)n.call(s,i)&&(c=s[i],l(i,c))}(),function(){var l,u,e,o,r,f,s,c;l=function(n,l,t){var i,u,e;for(u=n.length,e=[],i=-1;(i+=3)<u;)(l!==n[i-2]||t&&t!==n[i-1]&&t!==n[i-1]._cb)&&e.push(n[i-2],n[i-1],n[i]);return e},e=function(n,t,u,e){var o,r,f,s,c;s=0,c=n._2,null!=c&&null!=(o=c[u])&&(f=o.length,s+=f,f>2&&(r=l(o,t,e),s-=r.length),c[u]=r,s>0&&i(n,t,s/3))},c=function(n,t){var u,e,o,r,f,s;s=n._2,f=0;for(e in s)u=s[e],null!=u&&(r=u.length,f+=r,r>2&&(o=l(u,t),f-=o.length),s[e]=o);f>0&&i(n,t,f/3)},s=function(n){var l,t,i;i=n._3;for(l in i)t=i[l],c(t[0],n)},r=function(n,l,t,i){var u,e,o;for(o=t.length,u=-1,e=0;++u<=o;)u===o||" "===t[u]?e>0&&(f(n,l,t.slice(u-e,u),i),e=0):++e},f=function(n,l,t,i){var u,o,r;r=l._3;for(u in r)o=r[u],(null==n||o[0]===n)&&e(o[0],l,t,i)},o=function(l,t,i){var u,e;for(e in i)n.call(i,e)&&(u=i[e],r(l,t,e,"string"==typeof i[e]?t[i[e]]:i[e]))},u=function(n,l,t){var i,u,o,r,f;f=l._3;for(o in f)if(r=f[o],null==n||(u=r[0])===n)for(i in u._2)e(u,l,i,t)},t.stopListening=function(n,l,t){return null!=this._3&&(null==n&&null==l&&null==t?s(this):null!=l?"string"==typeof l?r(n,this,l,"string"==typeof t?this[t]:t):o(n,this,l):u(n,this,"string"==typeof t?this[t]:t)),this}}(),function(){var n,l,i;n=function(n,l){var t,i,u,e,o;switch(e=-1,o=n.length,o>0&&(t=l[0]),o>1&&(i=l[1]),o>2&&(u=l[2]),l.length){case 0:for(;(e+=3)<o;)n[e-1].call(n[e]);break;case 1:for(;(e+=3)<o;)n[e-1].call(n[e],t);break;case 2:for(;(e+=3)<o;)n[e-1].call(n[e],t,i);break;case 3:for(;(e+=3)<o;)n[e-1].call(n[e],t,i,u);break;default:for(;(e+=3)<o;)n[e-1].apply(n[e],l)}},i=function(l,t,i){var u,e,o,r,f,s;if(r=l[t],u=l.all,null!=r&&r.length>0){if(null!=u&&u.length>0)for(s=u,u=[],f=0,o=s.length;o>f;f++)e=s[f],u.push(e);n(r,i)}null!=u&&u.length>0&&(i.unshift(t),n(u,i),i.shift())},l=function(n,l,t){var u,e,o;for(o=l.length,u=-1,e=0;++u<=o;)u===o||" "===l[u]?e>0&&(i(n,l.slice(u-e,u),t),e=0):++e},t.trigger=t.notify=function(n){var t,u,e,o,r,f,s;if(null!=(r=this._2)&&(o=arguments.length)>0&&((u=n.indexOf(" "))>-1||null!=(f=r[n])&&f.length>0||null!=(s=r.all)&&s.length>0)){for(e=0,t=[];++e<o;)t.push(arguments[e]);u>-1?l(r,n,t):i(r,n,t)}return this}}(),function(){var n,l,u,e,o;l=function(n,l,t,u){var e,o,r,f,s;if(null!=(e=n._2[l])&&!((r=e.length)<3)){for(f=null,o=-1;(o+=3)<r;)null!=t&&t!==e[o-1]&&t!==e[o-1]._cb||null!=u&&u!==e[o]?(null!=f?f:f=[]).push(e[o-2],e[o-1],e[o]):null!=(s=e[o-2])&&i(n,s,1);n._2[l]=f}},e=function(n,t,i,u){var e,o,r;for(r=t.length,e=-1,o=0;++e<=r;)e===r||" "===t[e]?o>0&&(l(n,t.slice(e-o,e),i,u),o=0):++o},u=function(n,l,t){var i;for(i in l)e(n,i,"string"==typeof l[i]?n[l[i]]:l[i],t)},o=function(n){var l,t,u,e,o,r;o=n._2;for(t in o)if(l=o[t],null!=l)for(e=0,u=l.length;u>e;e+=3)r=l[e],null!=r&&i(n,r,1);n._2=null},n=function(n,t,i){var u;for(u in n._2)l(n,u,t,i)},t.unbind=t.off=function(l,t,i){return this._2&&(null==l&&null==t&&null==i?o(this):null!=l?"string"==typeof l?e(this,l,"string"==typeof t?this[t]:t,i):u(this,l,null!=i?i:t):n(this,t,i)),this}}(),{VERSION:"1.0.9",isNoisy:c,isEventable:s,InstanceMembers:t,included:function(n){"function"==typeof n.initializer&&n.initializer("publisher-subscriber",function(){null==this.oid&&(this.oid=e()),null==this._2&&(this._2={}),null==this._3&&(this._3={})})}}})}).call(this);