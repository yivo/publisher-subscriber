(function(){var n={}.hasOwnProperty;!function(n){var i;i="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(i.PublisherSubscriber=n(i),define(function(){return i.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(i):i.PublisherSubscriber=n(i)}(function(i){var t,e,o,r,f,l,s,u,c,a;return t={},r=function(){var n;return n=0,function(){return++n}}(),f=function(n){return n.oid||(n.oid=r())},a=function(n,i){return"string"==typeof i?n[i]:i},l=function(n,i,t){var e,o,f;e=i._psTo||(i._psTo={}),f=e[o=n.oid||(n.oid=r())]||(e[o]=[n,0]),f[1]+=t||1},e=function(n,i,t){var e,o;e=n.oid||(n.oid=r()),o=i._psTo[e],o&&(o[1]-=t||1)<1&&delete i._psTo[e]},o=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},s=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},u=function(n){return n&&n.on===t.on},function(){var i,e,o,r,f,l,s,u,c;s=function(n,i,t,e){var o,r;return o=!1,r=function(){o||(o=!0,n.off(i,r,e),t.apply(e,arguments))},r._cb=t,r},i=function(n,i,t,e,o){var r,f,l;return f=o?s(n,i,t,e):t,((r=n._ps||(n._ps={}))[l=i.indexOf(":")>-1?i.replace(/:/g,"_"):i]||(r[l]=[])).push(void 0,f,e)},r=function(n,t,e,o,r){var f,l,s;if(-1===t.indexOf(" "))i(n,t,e,o,r);else for(s=t.length,f=-1,l=0;++f<=s;)f===s||" "===t[f]?l>0&&(i(n,t.slice(f-l,f),e,o,r),l=0):++l},e=function(n,t,e,o,r){var f,l,s;for(s=0,l=t.length;l>s;s++)f=t[s],i(n,f,e,o,r)},o=function(n,i,t,e){var o;for(o in i)r(n,o,a(n,i[o]),t,e)},u={bind:!1,bindOnce:!0},f=function(n,i){return t[n]=function(n,t,e){return"string"==typeof n?t&&r(this,n,a(this,t),e||this,i):o(this,n,e||t||this,i),this}};for(l in u)n.call(u,l)&&(c=u[l],f(l,c));t.on=t.bind,t.once=t.bindOnce}(),function(){var i,e,o,r,f,s,u,c;s=function(n,i,t,e){var o,r;return o=!1,r=function(){o||(o=!0,i.stopListening(n,t,r),e.apply(i,arguments))},r._cb=e,r},o=function(n,i,t,e,o){var r,f,u;f=o?s(n,i,t,e):e,((r=n._ps||(n._ps={}))[u=t.indexOf(":")>-1?t.replace(/:/g,"_"):t]||(r[u]=[])).push(i,f,i),l(n,i)},f=function(n,i,t,e,r){var f,l,s;if(-1===t.indexOf(" "))o(n,i,t,e,r);else for(s=t.length,f=-1,l=0;++f<=s;)f===s||" "===t[f]?l>0&&(o(n,i,t.slice(f-l,f),e,r),l=0):++l},r=function(n,i,t,e){var o;for(o in t)f(n,i,o,a(i,t[o]),e)},u={listenTo:!1,listenToOnce:!0},i=function(n,i){return t[n]=function(n,t,e){return"string"==typeof t?e&&f(n,this,t,a(this,e),i):r(n,this,t,i),this}};for(e in u)n.call(u,e)&&(c=u[e],i(e,c))}(),function(){var i,o,r,f,l,s;i=function(n,i,t){var e,o,r;if(!((o=n.length)<3)){for(r=null,e=-1;(e+=3)<o;)(i!==n[e-2]||t&&t!==n[e-1]&&t!==n[e-1]._cb)&&(r||(r=[])).push(n[e-2],n[e-1],n[e]);return r}},r=function(n,t,o,r){var f,l,s,u,c;u=0,c=n._ps,l=o.indexOf(":")>-1?o.replace(/:/g,"_"):o,c&&(f=c[l])&&(s=i(f,t,r),u+=f.length-(0|(null!=s?s.length:void 0)),c[l]=s,u>0&&e(n,t,u/3))},s=function(n){var t,o,r,f,l,s,u,c,a;a=n._psTo;for(l in a){s=a[l],c=s[0],u=c._ps,f=0;for(o in u)t=u[o],t&&(r=i(t,n),f+=t.length-(0|(null!=r?r.length:void 0)),u[o]=r);f>0&&e(c,n,f/3)}},l=function(n,i,t,e){var o,f,l,s,u,c;for(l=t.length,o=-1,f=0;++o<=l;)if(o===l||" "===t[o]){if(f>0){c=i._psTo;for(s in c)u=c[s],n&&u[0]!==n||r(u[0],i,t.slice(o-f,o),e);f=0}}else++f},f=function(i,t,e){var o,r;for(r in e)n.call(e,r)&&(o=e[r],l(i,t,r,a(t,e[r])))},o=function(n,i,t){var e,o,f,l,s;s=i._psTo;for(f in s)if(l=s[f],!n||(o=l[0])===n)for(e in o._ps)r(o,i,e,t)},t.stopListening=function(n,i,t){return this._psTo&&(n||i||t?i?"string"==typeof i?l(n,this,i,a(this,t)):f(n,this,i):o(n,this,a(this,t)):s(this)),this}}(),function(){var n,i,e;n=function(n,i){var t,e,o,r,f;if(0!==n.length)switch(r=-1,f=n.length,t=f>0&&i[0],e=f>1&&i[1],o=f>2&&i[2],i.length){case 0:for(;(r+=3)<f;)n[r-1].call(n[r]);break;case 1:for(;(r+=3)<f;)n[r-1].call(n[r],t);break;case 2:for(;(r+=3)<f;)n[r-1].call(n[r],t,e);break;case 3:for(;(r+=3)<f;)n[r-1].call(n[r],t,e,o);break;default:for(;(r+=3)<f;)n[r-1].apply(n[r],i)}},e=function(i,t,e){var o,r;r=i[t.indexOf(":")>-1?t.replace(/:/g,"_"):t],o=i.all,r&&(o&&(o=o.slice()),n(r,e)),o&&(e.unshift(t),n(o,e),e.shift())},i=function(n,i,t){var o,r,f;for(f=i.length,o=-1,r=0;++o<=f;)o===f||" "===i[o]?r>0&&(e(n,i.slice(o-r,o),t),r=0):++r},t.trigger=t.notify=function(n){var t,o,r,f,l;if((f=this._ps)&&(r=arguments.length)>0&&(l=n.indexOf(" ")>-1||f[n.indexOf(":")>-1?n.replace(/:/g,"_"):n]||f.all)){for(o=0,t=new Array(r-1);++o<r;)t[o-1]=arguments[o];l?i(f,n,t):e(f,n,t)}return this}}(),function(){var n,i,o,r,f;i=function(n,i,t,o){var r,f,l,s,u;if(f=i.indexOf(":")>-1?i.replace(/:/g,"_"):i,(r=n._ps[f])&&!((s=r.length)<3)){for(u=null,l=-1;(l+=3)<s;)t&&t!==r[l-1]&&t!==r[l-1]._cb||o&&o!==r[l]?(u||(u=[])).push(r[l-2],r[l-1],r[l]):r[l-2]&&e(n,r[l-2]);n._ps[f]=u}},r=function(n,t,e,o){var r,f,l;for(l=t.length,r=-1,f=0;++r<=l;)r===l||" "===t[r]?f>0&&(i(n,t.slice(r-f,r),e,o),f=0):++f},o=function(n,i,t){var e;for(e in i)r(n,e,a(n,i[e]),t)},f=function(n){var i,t,o,r,f,l;f=n._ps;for(t in f)if(i=f[t])for(r=0,o=i.length;o>r;r+=3)l=i[r],l&&e(n,l);n._ps=null},n=function(n,t,e){var o;for(o in n._ps)i(n,o,t,e)},t.unbind=t.off=function(i,t,e){return this._ps&&(i||t||e?i?"string"==typeof i?r(this,i,a(this,t),e):o(this,i,e||t):n(this,t,e):f(this)),this}}(),{VERSION:"1.0.3",isNoisy:c,isEventable:u,InstanceMembers:t}})}).call(this);