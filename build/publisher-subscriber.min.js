(function(){var n={}.hasOwnProperty;!function(n){var t;t="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(t.PublisherSubscriber=n(t),define(function(){return t.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(t):t.PublisherSubscriber=n(t)}(function(t){var i,e,o,r,f,l,s,u,c,a;return i={},r=function(){var n;return n=0,function(){return++n}}(),f=function(n){return null!=n.oid?n.oid:n.oid=r()},a=function(n,t){return"string"==typeof t?n[t]:t},l=function(n,t,i){var e,o,f;e=null!=t._psTo?t._psTo:t._psTo={},f=null!=e[o=null!=n.oid?n.oid:n.oid=r()]?e[o]:e[o]=[n,0],f[1]+=i||1},e=function(n,t,i){var e,o;e=null!=n.oid?n.oid:n.oid=r(),o=t._psTo[e],o&&(o[1]-=i||1)<1&&delete t._psTo[e]},o=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},s=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},u=function(n){return n&&n.on===i.on},function(){var t,e,o,r,f,l,s,u,c;s=function(n,t,i,e){var o,r;return o=!1,r=function(){o||(o=!0,n.off(t,r,e),i.apply(e,arguments))},r._cb=i,r},t=function(n,t,i,e,o){var r,f,l;return f=o?s(n,t,i,e):i,(null!=(r=null!=n._ps?n._ps:n._ps={})[l=t.indexOf(":")>-1?t.replace(/:/g,"_"):t]?r[l]:r[l]=[]).push(void 0,f,e)},r=function(n,i,e,o,r){var f,l,s;if(-1===i.indexOf(" "))t(n,i,e,o,r);else for(s=i.length,f=-1,l=0;++f<=s;)f===s||" "===i[f]?l>0&&(t(n,i.slice(f-l,f),e,o,r),l=0):++l},e=function(n,i,e,o,r){var f,l,s;for(s=0,l=i.length;l>s;s++)f=i[s],t(n,f,e,o,r)},o=function(n,t,i,e){var o;for(o in t)r(n,o,"string"==typeof t[o]?n[t[o]]:t[o],i,e)},u={bind:!1,bindOnce:!0},f=function(n,t){return i[n]=function(n,i,e){return"string"==typeof n?i&&r(this,n,"string"==typeof i?this[i]:i,e||this,t):o(this,n,e||i||this,t),this}};for(l in u)n.call(u,l)&&(c=u[l],f(l,c));i.on=i.bind,i.once=i.bindOnce}(),function(){var t,e,o,r,f,s,u,c;s=function(n,t,i,e){var o,r;return o=!1,r=function(){o||(o=!0,t.stopListening(n,i,r),e.apply(t,arguments))},r._cb=e,r},o=function(n,t,i,e,o){var r,f,u;f=o?s(n,t,i,e):e,(null!=(r=null!=n._ps?n._ps:n._ps={})[u=i.indexOf(":")>-1?i.replace(/:/g,"_"):i]?r[u]:r[u]=[]).push(t,f,t),l(n,t)},f=function(n,t,i,e,r){var f,l,s;if(-1===i.indexOf(" "))o(n,t,i,e,r);else for(s=i.length,f=-1,l=0;++f<=s;)f===s||" "===i[f]?l>0&&(o(n,t,i.slice(f-l,f),e,r),l=0):++l},r=function(n,t,i,e){var o;for(o in i)f(n,t,o,"string"==typeof i[o]?t[i[o]]:i[o],e)},u={listenTo:!1,listenToOnce:!0},t=function(n,t){return i[n]=function(n,i,e){return"string"==typeof i?e&&f(n,this,i,"string"==typeof e?this[e]:e,t):r(n,this,i,t),this}};for(e in u)n.call(u,e)&&(c=u[e],t(e,c))}(),function(){var t,o,r,f,l,s;t=function(n,t,i){var e,o,r;if(!((o=n.length)<3)){for(r=null,e=-1;(e+=3)<o;)(t!==n[e-2]||i&&i!==n[e-1]&&i!==n[e-1]._cb)&&(null!=r?r:r=[]).push(n[e-2],n[e-1],n[e]);return r}},r=function(n,i,o,r){var f,l,s,u,c;u=0,c=n._ps,l=o.indexOf(":")>-1?o.replace(/:/g,"_"):o,c&&(f=c[l])&&(s=t(f,i,r),u+=f.length-(0|(null!=s?s.length:void 0)),c[l]=s,u>0&&e(n,i,u/3))},s=function(n){var i,o,r,f,l,s,u,c,a;a=n._psTo;for(l in a){s=a[l],c=s[0],u=c._ps,f=0;for(o in u)i=u[o],i&&(r=t(i,n),f+=i.length-(0|(null!=r?r.length:void 0)),u[o]=r);f>0&&e(c,n,f/3)}},l=function(n,t,i,e){var o,f,l,s,u,c;for(l=i.length,o=-1,f=0;++o<=l;)if(o===l||" "===i[o]){if(f>0){c=t._psTo;for(s in c)u=c[s],n&&u[0]!==n||r(u[0],t,i.slice(o-f,o),e);f=0}}else++f},f=function(t,i,e){var o,r;for(r in e)n.call(e,r)&&(o=e[r],l(t,i,r,"string"==typeof e[r]?i[e[r]]:e[r]))},o=function(n,t,i){var e,o,f,l,s;s=t._psTo;for(f in s)if(l=s[f],!n||(o=l[0])===n)for(e in o._ps)r(o,t,e,i)},i.stopListening=function(n,t,i){return this._psTo&&(n||t||i?t?"string"==typeof t?l(n,this,t,"string"==typeof i?this[i]:i):f(n,this,t):o(n,this,"string"==typeof i?this[i]:i):s(this)),this}}(),function(){var n,t,e;n=function(n,t){var i,e,o,r,f;if(0!==n.length)switch(r=-1,f=n.length,i=f>0&&t[0],e=f>1&&t[1],o=f>2&&t[2],t.length){case 0:for(;(r+=3)<f;)n[r-1].call(n[r]);break;case 1:for(;(r+=3)<f;)n[r-1].call(n[r],i);break;case 2:for(;(r+=3)<f;)n[r-1].call(n[r],i,e);break;case 3:for(;(r+=3)<f;)n[r-1].call(n[r],i,e,o);break;default:for(;(r+=3)<f;)n[r-1].apply(n[r],t)}},e=function(t,i,e){var o,r;r=t[i.indexOf(":")>-1?i.replace(/:/g,"_"):i],o=t.all,r&&(o&&(o=o.slice()),n(r,e)),o&&(e.unshift(i),n(o,e),e.shift())},t=function(n,t,i){var o,r,f;for(f=t.length,o=-1,r=0;++o<=f;)o===f||" "===t[o]?r>0&&(e(n,t.slice(o-r,o),i),r=0):++r},i.trigger=i.notify=function(n){var i,o,r,f,l;if((f=this._ps)&&(r=arguments.length)>0&&(l=n.indexOf(" ")>-1||f[n.indexOf(":")>-1?n.replace(/:/g,"_"):n]||f.all)){for(o=0,i=[];++o<r;)i.push(arguments[o]);l?t(f,n,i):e(f,n,i)}return this}}(),function(){var n,t,o,r,f;t=function(n,t,i,o){var r,f,l,s,u;if(f=t.indexOf(":")>-1?t.replace(/:/g,"_"):t,(r=n._ps[f])&&!((s=r.length)<3)){for(u=null,l=-1;(l+=3)<s;)i&&i!==r[l-1]&&i!==r[l-1]._cb||o&&o!==r[l]?(null!=u?u:u=[]).push(r[l-2],r[l-1],r[l]):r[l-2]&&e(n,r[l-2]);n._ps[f]=u}},r=function(n,i,e,o){var r,f,l;for(l=i.length,r=-1,f=0;++r<=l;)r===l||" "===i[r]?f>0&&(t(n,i.slice(r-f,r),e,o),f=0):++f},o=function(n,t,i){var e;for(e in t)r(n,e,"string"==typeof t[e]?n[t[e]]:t[e],i)},f=function(n){var t,i,o,r,f,l;f=n._ps;for(i in f)if(t=f[i])for(r=0,o=t.length;o>r;r+=3)l=t[r],l&&e(n,l);n._ps=null},n=function(n,i,e){var o;for(o in n._ps)t(n,o,i,e)},i.unbind=i.off=function(t,i,e){return this._ps&&(t||i||e?t?"string"==typeof t?r(this,t,"string"==typeof i?this[i]:i,e):o(this,t,e||i):n(this,i,e):f(this)),this}}(),{VERSION:"1.0.3",isNoisy:c,isEventable:u,InstanceMembers:i}})}).call(this);