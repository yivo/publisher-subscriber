(function(){var n={}.hasOwnProperty;!function(n){var t;t="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(t.PublisherSubscriber=n(t),define(function(){return t.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(t):t.PublisherSubscriber=n(t)}(function(t){var i,e,o,r,f,l,s,u,c,a,p;return i={},r=(null!=(a=t._)?a.generateID:void 0)||function(){var n;return n=0,function(){return++n}}(),f=function(n){return null!=n.oid?n.oid:n.oid=r()},p=function(n,t){return"string"==typeof t?n[t]:t},l=function(n,t){var i,e,o;i=null!=t._psTo?t._psTo:t._psTo={},o=null!=i[e=null!=n.oid?n.oid:n.oid=r()]?i[e]:i[e]=[n,0],o[1]+=1},e=function(n,t,i){var e,o;e=null!=n.oid?n.oid:n.oid=r(),o=t._psTo[e],o&&(o[1]-=0|i)<1&&delete t._psTo[e]},o=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},s=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},u=function(n){return n&&n.on===i.on},function(){var t,e,o,r,f,l,s,u,c;s=function(n,t,i,e){var o,r;return o=!1,r=function(){o||(o=!0,n.off(t,r,e),i.apply(e,arguments))},r._cb=i,r},t=function(n,t,i,e,o){var r,f,l;return f=o?s(n,t,i,e):i,(null!=(r=null!=n._ps?n._ps:n._ps={})[l=t.indexOf(":")>-1?t.replace(/:/g,"_"):t]?r[l]:r[l]=[]).push(void 0,f,e)},r=function(n,t,i,e,o){var r,f,l,u,c,a,p,h,g;if(-1===t.indexOf(" "))l=o?s(n,t,i,e):i,(null!=(r=null!=n._ps?n._ps:n._ps={})[h=t.indexOf(":")>-1?t.replace(/:/g,"_"):t]?r[h]:r[h]=[]).push(void 0,l,e);else for(p=t.length,c=-1,a=0;++c<=p;)c===p||" "===t[c]?a>0&&(u=t.slice(c-a,c),l=o?s(n,u,i,e):i,(null!=(f=null!=n._ps?n._ps:n._ps={})[g=u.indexOf(":")>-1?u.replace(/:/g,"_"):u]?f[g]:f[g]=[]).push(void 0,l,e),a=0):++a},e=function(n,i,e,o,r){var f,l,s;for(s=0,l=i.length;l>s;s++)f=i[s],t(n,f,e,o,r)},o=function(n,t,i,e){var o;for(o in t)r(n,o,"string"==typeof t[o]?n[t[o]]:t[o],i,e)},u={bind:!1,bindOnce:!0},f=function(n,t){return i[n]=function(n,i,e){return"string"==typeof n?i&&r(this,n,"string"==typeof i?this[i]:i,e||this,t):o(this,n,e||i||this,t),this}};for(l in u)n.call(u,l)&&(c=u[l],f(l,c));i.on=i.bind,i.once=i.bindOnce}(),function(){var t,e,o,f,l,s,u,c;s=function(n,t,i,e){var o,r;return o=!1,r=function(){o||(o=!0,t.stopListening(n,i,r),e.apply(t,arguments))},r._cb=e,r},o=function(n,t,i,e,o){var f,l,u,c,a,p;l=o?s(n,t,i,e):e,(null!=(f=null!=n._ps?n._ps:n._ps={})[c=i.indexOf(":")>-1?i.replace(/:/g,"_"):i]?f[c]:f[c]=[]).push(t,l,t),u=null!=t._psTo?t._psTo:t._psTo={},p=null!=u[a=null!=n.oid?n.oid:n.oid=r()]?u[a]:u[a]=[n,0],p[1]+=1},l=function(n,t,i,e,r){var f,l,s;if(-1===i.indexOf(" "))o(n,t,i,e,r);else for(s=i.length,f=-1,l=0;++f<=s;)f===s||" "===i[f]?l>0&&(o(n,t,i.slice(f-l,f),e,r),l=0):++l},f=function(n,t,i,e){var o;for(o in i)l(n,t,o,"string"==typeof i[o]?t[i[o]]:i[o],e)},u={listenTo:!1,listenToOnce:!0},t=function(n,t){return i[n]=function(n,i,e){return"string"==typeof i?e&&l(n,this,i,"string"==typeof e?this[e]:e,t):f(n,this,i,t),this}};for(e in u)n.call(u,e)&&(c=u[e],t(e,c))}(),function(){var t,o,r,f,l,s,u,c;t=function(n,t,i){var e,o,r;for(o=n.length,r=[],e=-1;(e+=3)<o;)(t!==n[e-2]||i&&i!==n[e-1]&&i!==n[e-1]._cb)&&r.push(n[e-2],n[e-1],n[e]);return r},r=function(n,i,o,r){var f,l,s,u,c,a;c=0,a=n._ps,l=o.indexOf(":")>-1?o.replace(/:/g,"_"):o,a&&(f=a[l])&&(u=f.length,c+=u,u>2&&(s=t(f,i,r),c-=s.length),a[l]=s,c>0&&e(n,i,c/3))},c=function(n,i){var o,r,f,l,s,u;u=n._ps,s=0;for(r in u)o=u[r],o&&(l=o.length,s+=l,l>2&&(f=t(o,i),s-=f.length),u[r]=f);s>0&&e(n,i,s/3)},u=function(n){var t,i,e;e=n._psTo;for(t in e)i=e[t],c(i[0],n)},l=function(n,t,i,e){var o,r,f;for(f=i.length,o=-1,r=0;++o<=f;)o===f||" "===i[o]?r>0&&(s(n,t,i.slice(o-r,o),e),r=0):++r},s=function(n,t,i,e){var o,f,l;l=t._psTo;for(o in l)f=l[o],n&&f[0]!==n||r(f[0],t,i,e)},f=function(t,i,e){var o,r;for(r in e)n.call(e,r)&&(o=e[r],l(t,i,r,"string"==typeof e[r]?i[e[r]]:e[r]))},o=function(n,t,i){var e,o,f,l,s;s=t._psTo;for(f in s)if(l=s[f],!n||(o=l[0])===n)for(e in o._ps)r(o,t,e,i)},i.stopListening=function(n,t,i){return this._psTo&&(n||t||i?t?"string"==typeof t?l(n,this,t,"string"==typeof i?this[i]:i):f(n,this,t):o(n,this,"string"==typeof i?this[i]:i):u(this)),this}}(),function(){var n,t,e;n=function(n,t){var i,e,o,r,f;if(0!==n.length)switch(r=-1,f=n.length,i=f>0&&t[0],e=f>1&&t[1],o=f>2&&t[2],t.length){case 0:for(;(r+=3)<f;)n[r-1].call(n[r]);break;case 1:for(;(r+=3)<f;)n[r-1].call(n[r],i);break;case 2:for(;(r+=3)<f;)n[r-1].call(n[r],i,e);break;case 3:for(;(r+=3)<f;)n[r-1].call(n[r],i,e,o);break;default:for(;(r+=3)<f;)n[r-1].apply(n[r],t)}},e=function(t,i,e){var o,r;r=t[i.indexOf(":")>-1?i.replace(/:/g,"_"):i],o=t.all,r&&(o&&(o=o.slice()),n(r,e)),o&&(e.unshift(i),n(o,e),e.shift())},t=function(n,t,i){var o,r,f;for(f=t.length,o=-1,r=0;++o<=f;)o===f||" "===t[o]?r>0&&(e(n,t.slice(o-r,o),i),r=0):++r},i.trigger=i.notify=function(n){var i,o,r,f,l;if((f=this._ps)&&(r=arguments.length)>0&&(l=n.indexOf(" ")>-1||f[n.indexOf(":")>-1?n.replace(/:/g,"_"):n]||f.all)){for(o=0,i=[];++o<r;)i.push(arguments[o]);l?t(f,n,i):e(f,n,i)}return this}}(),function(){var n,t,o,r,f;t=function(n,t,i,o){var r,f,l,s,u,c;if(f=t.indexOf(":")>-1?t.replace(/:/g,"_"):t,(r=n._ps[f])&&!((s=r.length)<3)){for(u=null,l=-1;(l+=3)<s;)i&&i!==r[l-1]&&i!==r[l-1]._cb||o&&o!==r[l]?(null!=u?u:u=[]).push(r[l-2],r[l-1],r[l]):(c=r[l-2])&&e(n,c,1);n._ps[f]=u}},r=function(n,i,e,o){var r,f,l;for(l=i.length,r=-1,f=0;++r<=l;)r===l||" "===i[r]?f>0&&(t(n,i.slice(r-f,r),e,o),f=0):++f},o=function(n,t,i){var e;for(e in t)r(n,e,"string"==typeof t[e]?n[t[e]]:t[e],i)},f=function(n){var t,i,o,r,f,l;f=n._ps;for(i in f)if(t=f[i])for(r=0,o=t.length;o>r;r+=3)l=t[r],l&&e(n,l,1);n._ps=null},n=function(n,i,e){var o;for(o in n._ps)t(n,o,i,e)},i.unbind=i.off=function(t,i,e){return this._ps&&(t||i||e?t?"string"==typeof t?r(this,t,"string"==typeof i?this[i]:i,e):o(this,t,e||i):n(this,i,e):f(this)),this}}(),{VERSION:"1.0.3",isNoisy:c,isEventable:u,InstanceMembers:i}})}).call(this);