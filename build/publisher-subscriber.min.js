(function(){var n={}.hasOwnProperty;!function(n){var t;t="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(t.PublisherSubscriber=n(t),define(function(){return t.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(t):t.PublisherSubscriber=n(t)}(function(t){var i,o,r,e,f,u,s,l,c,a;return i={},e=function(){var n;return n=0,function(){return++n}}(),f=function(n){return n.oid||(n.oid=e())},a=function(n,t){return"string"==typeof t?n[t]:t},u=function(n,t,i){var o,r,e;o=t._psTo||(t._psTo={}),e=o[r=f(n)]||(o[r]=[n,0]),e[1]+=i||1},o=function(n,t,i){var o,r;o=f(n),r=t._psTo[o],r&&(r[1]-=i||1)<1&&delete t._psTo[o]},r=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},s=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},l=function(n){return n&&n.on===i.on},function(){var t,o,e,f,u,s,l,c,h;l=function(n,t,i,o){var r,e;return r=!1,e=function(){r||(r=!0,n.off(t,e,o),i.apply(o,arguments))},e._cb=i,e},t=function(n,t,i,o,e){var f,u,s;return u=e?l(n,t,i,o):i,((f=n._ps||(n._ps={}))[s=r(t)]||(f[s]=[])).push(void 0,u,o)},f=function(n,i,o,r,e){var f,u,s;for(s=i.length,f=-1,u=0;++f<=s;)f===s||" "===i[f]?u>0&&(t(n,i.slice(f-u,f),o,r,e),u=0):++u},o=function(n,i,o,r,e){var f,u,s;for(s=0,u=i.length;u>s;s++)f=i[s],t(n,f,o,r,e)},e=function(n,t,i,o){var r;for(r in t)f(n,r,a(n,t[r]),i,o)},c={bind:!1,bindOnce:!0},u=function(n,t){return i[n]=function(n,i,o){return"string"==typeof n?i&&f(this,n,a(this,i),o||this,t):e(this,n,o||i||this,t),this}};for(s in c)n.call(c,s)&&(h=c[s],u(s,h));i.on=i.bind,i.once=i.bindOnce}(),function(){var t,o,e,f,s,l,c,h;l=function(n,t,i,o){var r,e;return r=!1,e=function(){r||(r=!0,t.stopListening(n,i,e),o.apply(t,arguments))},e._cb=o,e},e=function(n,t,i,o,e){var f,s,c;s=e?l(n,t,i,o):o,((f=n._ps||(n._ps={}))[c=r(i)]||(f[c]=[])).push(t,s,t),u(n,t)},s=function(n,t,i,o,r){var f,u,s;for(s=i.length,f=-1,u=0;++f<=s;)f===s||" "===i[f]?u>0&&(e(n,t,i.slice(f-u,f),o,r),u=0):++u},f=function(n,t,i,o){var r;for(r in i)s(n,t,r,a(t,i[r]),o)},c={listenTo:!1,listenToOnce:!0},t=function(n,t){return i[n]=function(n,i,o){return"string"==typeof i?o&&s(n,this,i,a(this,o),t):f(n,this,i,t),this}};for(o in c)n.call(c,o)&&(h=c[o],t(o,h))}(),function(){var t,e,f,u,s,l;t=function(n,t,i){var o,r,e;if(!((r=n.length)<3)){for(e=null,o=-1;(o+=3)<r;)(t!==n[o-2]||i&&i!==n[o-1]&&i!==n[o-1]._cb)&&(e||(e=[])).push(n[o-2],n[o-1],n[o]);return e}},f=function(n,i,e,f){var u,s,l,c,a;c=0,a=n._ps,s=r(e),a&&(u=a[s])&&(l=t(u,i,f),c+=u.length-(0|(null!=l?l.length:void 0)),a[s]=l,c>0&&o(n,i,c/3))},l=function(n){var i,r,e,f,u,s,l,c,a;a=n._psTo;for(u in a){s=a[u],c=s[0],l=c._ps,f=0;for(r in l)i=l[r],i&&(e=t(i,n),f+=i.length-(0|(null!=e?e.length:void 0)),l[r]=e);f>0&&o(c,n,f/3)}},s=function(n,t,i,o){var r,e,u,s,l,c;for(u=i.length,r=-1,e=0;++r<=u;)if(r===u||" "===i[r]){if(e>0){c=t._psTo;for(s in c)l=c[s],n&&l[0]!==n||f(l[0],t,i.slice(r-e,r),o);e=0}}else++e},u=function(t,i,o){var r,e;for(e in o)n.call(o,e)&&(r=o[e],s(t,i,e,a(i,o[e])))},e=function(n,t,i){var o,r,e,u,s;s=t._psTo;for(e in s)if(u=s[e],!n||(r=u[0])===n)for(o in r._ps)f(r,t,o,i)},i.stopListening=function(n,t,i){return this._psTo&&(n||t||i?t?"string"==typeof t?s(n,this,t,a(this,i)):u(n,this,t):e(n,this,a(this,i)):l(this)),this}}(),function(){var n,t,o;n=function(n,t){var i,o,r,e,f;if(0!==n.length)switch(e=-1,f=n.length,i=f>0&&t[0],o=f>1&&t[1],r=f>2&&t[2],t.length){case 0:for(;(e+=3)<f;)n[e-1].call(n[e]);break;case 1:for(;(e+=3)<f;)n[e-1].call(n[e],i);break;case 2:for(;(e+=3)<f;)n[e-1].call(n[e],i,o);break;case 3:for(;(e+=3)<f;)n[e-1].call(n[e],i,o,r);break;default:for(;(e+=3)<f;)n[e-1].apply(n[e],t)}},o=function(t,i,o){var e,f;f=t[r(i)],e=t.all,f&&(e&&(e=e.slice()),n(f,o)),e&&(o.unshift(i),n(e,o),o.shift())},t=function(n,t,i){var r,e,f;for(f=t.length,r=-1,e=0;++r<=f;)r===f||" "===t[r]?e>0&&(o(n,t.slice(r-e,r),i),e=0):++e},i.trigger=i.notify=function(n){var i,o,e,f;if((f=this._ps)&&(e=arguments.length)>0&&(n.indexOf(" ")>-1||f[r(n)]||f.all)){for(o=0,i=new Array(e-1);++o<e;)i[o-1]=arguments[o];t(f,n,i)}return this}}(),function(){var n,t,e,f,u;t=function(n,t,i,e){var f,u,s,l,c;if(u=r(t),(f=n._ps[u])&&!((l=f.length)<3)){for(c=null,s=-1;(s+=3)<l;)i&&i!==f[s-1]&&i!==f[s-1]._cb||e&&e!==f[s]?(c||(c=[])).push(f[s-2],f[s-1],f[s]):f[s-2]&&o(n,f[s-2]);n._ps[u]=c}},f=function(n,i,o,r){var e,f,u;for(u=i.length,e=-1,f=0;++e<=u;)e===u||" "===i[e]?f>0&&(t(n,i.slice(e-f,e),o,r),f=0):++f},e=function(n,t,i){var o;for(o in t)f(n,o,a(n,t[o]),i)},u=function(n){var t,i,r,e,f,u;f=n._ps;for(i in f)if(t=f[i])for(e=0,r=t.length;r>e;e+=3)u=t[e],u&&o(n,u);n._ps=null},n=function(n,i,o){var r;for(r in n._ps)t(n,r,i,o)},i.unbind=i.off=function(t,i,o){return this._ps&&(t||i||o?t?"string"==typeof t?f(this,t,a(this,i),o):e(this,t,o||i):n(this,i,o):u(this)),this}}(),{VERSION:"1.0.3",isNoisy:c,isEventable:l,InstanceMembers:i,included:function(n){return"function"==typeof n.initializer?n.initializer(function(){this._ps={},this._psTo={}}):void 0}}})}).call(this);