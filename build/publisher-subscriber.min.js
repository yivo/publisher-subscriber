(function(){var n={}.hasOwnProperty;!function(n){var l;l="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(l.PublisherSubscriber=n(l),define(function(){return l.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(l):l.PublisherSubscriber=n(l)}(function(l){var i,t,e,u,r,o,f,s,c,a,h;return i={},u=(null!=(a=l._)?a.generateID:void 0)||function(){var n;return n=0,function(){return++n}}(),r=function(n){return null!=n.oid?n.oid:n.oid=u()},h=function(n,l){return"string"==typeof l?n[l]:l},o=function(n,l){var i,t,e;i=null!=l._3?l._3:l._3={},e=null!=i[t=null!=n.oid?n.oid:n.oid=u()]?i[t]:i[t]=[n,0],e[1]+=1},t=function(n,l,i){var t,e;t=null!=n.oid?n.oid:n.oid=u(),e=l._3[t],null!=e&&(e[1]-=0|i)<1&&delete l._3[t]},e=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},f=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},s=function(n){return n&&n.on===i.on},function(){var l,t,e,u,r,o,f,s,c;f=function(n,l,i,t){var e,u;return e=!1,u=function(){e||(e=!0,n.off(l,u,t),i.apply(t,arguments))},u._cb=i,u},l=function(n,l,i,t,e){var u,r,o;return r=e===!0?f(n,l,i,t):i,(null!=(u=null!=n._2?n._2:n._2={})[o=l.indexOf(":")>-1?l.replace(/:/g,"_"):l]?u[o]:u[o]=[]).push(void 0,r,t)},u=function(n,l,i,t,e){var u,r,o,s,c,a,h,g,d;if(-1===l.indexOf(" "))o=e===!0?f(n,l,i,t):i,(null!=(u=null!=n._2?n._2:n._2={})[g=l.indexOf(":")>-1?l.replace(/:/g,"_"):l]?u[g]:u[g]=[]).push(void 0,o,t);else for(h=l.length,c=-1,a=0;++c<=h;)c===h||" "===l[c]?a>0&&(s=l.slice(c-a,c),o=e===!0?f(n,s,i,t):i,(null!=(r=null!=n._2?n._2:n._2={})[d=s.indexOf(":")>-1?s.replace(/:/g,"_"):s]?r[d]:r[d]=[]).push(void 0,o,t),a=0):++a},t=function(n,i,t,e,u){var r,o,f;for(f=0,o=i.length;o>f;f++)r=i[f],l(n,r,t,e,u)},e=function(n,l,i,t){var e;for(e in l)u(n,e,"string"==typeof l[e]?n[l[e]]:l[e],i,t)},s={bind:!1,bindOnce:!0},r=function(n,l){return i[n]=function(n,i,t){return"string"==typeof n?i&&u(this,n,"string"==typeof i?this[i]:i,t||this,l):e(this,n,t||i||this,l),this}};for(o in s)n.call(s,o)&&(c=s[o],r(o,c));i.on=i.bind,i.once=i.bindOnce}(),function(){var l,t,e,r,o,f,s,c;f=function(n,l,i,t){var e,u;return e=!1,u=function(){e||(e=!0,l.stopListening(n,i,u),t.apply(l,arguments))},u._cb=t,u},e=function(n,l,i,t,e){var r,o,s,c,a,h;o=e===!0?f(n,l,i,t):t,(null!=(r=null!=n._2?n._2:n._2={})[c=i.indexOf(":")>-1?i.replace(/:/g,"_"):i]?r[c]:r[c]=[]).push(l,o,l),s=null!=l._3?l._3:l._3={},h=null!=s[a=null!=n.oid?n.oid:n.oid=u()]?s[a]:s[a]=[n,0],h[1]+=1},o=function(n,l,i,t,u){var r,o,f;if(-1===i.indexOf(" "))e(n,l,i,t,u);else for(f=i.length,r=-1,o=0;++r<=f;)r===f||" "===i[r]?o>0&&(e(n,l,i.slice(r-o,r),t,u),o=0):++o},r=function(n,l,i,t){var e;for(e in i)o(n,l,e,"string"==typeof i[e]?l[i[e]]:i[e],t)},s={listenTo:!1,listenToOnce:!0},l=function(n,l){return i[n]=function(n,i,t){return"string"==typeof i?t&&o(n,this,i,"string"==typeof t?this[t]:t,l):r(n,this,i,l),this}};for(t in s)n.call(s,t)&&(c=s[t],l(t,c))}(),function(){var l,e,u,r,o,f,s,c;l=function(n,l,i){var t,e,u;for(e=n.length,u=[],t=-1;(t+=3)<e;)(l!==n[t-2]||i&&i!==n[t-1]&&i!==n[t-1]._cb)&&u.push(n[t-2],n[t-1],n[t]);return u},u=function(n,i,e,u){var r,o,f,s,c,a;c=0,a=n._2,o=e.indexOf(":")>-1?e.replace(/:/g,"_"):e,null!=a&&null!=(r=a[o])&&(s=r.length,c+=s,s>2&&(f=l(r,i,u),c-=f.length),a[o]=f,c>0&&t(n,i,c/3))},c=function(n,i){var e,u,r,o,f,s;s=n._2,f=0;for(u in s)e=s[u],null!=e&&(o=e.length,f+=o,o>2&&(r=l(e,i),f-=r.length),s[u]=r);f>0&&t(n,i,f/3)},s=function(n){var l,i,t;t=n._3;for(l in t)i=t[l],c(i[0],n)},o=function(n,l,i,t){var e,u,r;for(r=i.length,e=-1,u=0;++e<=r;)e===r||" "===i[e]?u>0&&(f(n,l,i.slice(e-u,e),t),u=0):++u},f=function(n,l,i,t){var e,r,o;o=l._3;for(e in o)r=o[e],(null==n||r[0]===n)&&u(r[0],l,i,t)},r=function(l,i,t){var e,u;for(u in t)n.call(t,u)&&(e=t[u],o(l,i,u,"string"==typeof t[u]?i[t[u]]:t[u]))},e=function(n,l,i){var t,e,r,o,f;f=l._3;for(r in f)if(o=f[r],null==n||(e=o[0])===n)for(t in e._2)u(e,l,t,i)},i.stopListening=function(n,l,i){return null!=this._3&&(null==n&&null==l&&null==i?s(this):null!=l?"string"==typeof l?o(n,this,l,"string"==typeof i?this[i]:i):r(n,this,l):e(n,this,"string"==typeof i?this[i]:i)),this}}(),function(){var n,l,t;n=function(n,l){var i,t,e,u,r;if(0!==n.length)switch(u=-1,r=n.length,i=r>0&&l[0],t=r>1&&l[1],e=r>2&&l[2],l.length){case 0:for(;(u+=3)<r;)n[u-1].call(n[u]);break;case 1:for(;(u+=3)<r;)n[u-1].call(n[u],i);break;case 2:for(;(u+=3)<r;)n[u-1].call(n[u],i,t);break;case 3:for(;(u+=3)<r;)n[u-1].call(n[u],i,t,e);break;default:for(;(u+=3)<r;)n[u-1].apply(n[u],l)}},t=function(l,i,t){var e,u,r,o,f,s;if(o=l[i.indexOf(":")>-1?i.replace(/:/g,"_"):i],e=l.all,null!=o){if(null!=e)for(s=e,e=[],f=0,r=s.length;r>f;f++)u=s[f],e.push(u);n(o,t)}null!=e&&(t.unshift(i),n(e,t),t.shift())},l=function(n,l,i){var e,u,r;for(r=l.length,e=-1,u=0;++e<=r;)e===r||" "===l[e]?u>0&&(t(n,l.slice(e-u,e),i),u=0):++u},i.trigger=i.notify=function(n){var i,e,u,r,o;if(null!=(r=this._2)&&(u=arguments.length)>0&&(o=n.indexOf(" ")>-1||null!=r[n.indexOf(":")>-1?n.replace(/:/g,"_"):n]||null!=r.all)){for(e=0,i=[];++e<u;)i.push(arguments[e]);o===!0?l(r,n,i):t(r,n,i)}return this}}(),function(){var n,l,e,u,r;l=function(n,l,i,e){var u,r,o,f,s,c;if(r=l.indexOf(":")>-1?l.replace(/:/g,"_"):l,null!=(u=n._2[r])&&!((f=u.length)<3)){for(s=null,o=-1;(o+=3)<f;)null!=i&&i!==u[o-1]&&i!==u[o-1]._cb||null!=e&&e!==u[o]?(null!=s?s:s=[]).push(u[o-2],u[o-1],u[o]):null!=(c=u[o-2])&&t(n,c,1);n._2[r]=s}},u=function(n,i,t,e){var u,r,o;for(o=i.length,u=-1,r=0;++u<=o;)u===o||" "===i[u]?r>0&&(l(n,i.slice(u-r,u),t,e),r=0):++r},e=function(n,l,i){var t;for(t in l)u(n,t,"string"==typeof l[t]?n[l[t]]:l[t],i)},r=function(n){var l,i,e,u,r,o;r=n._2;for(i in r)if(l=r[i],null!=l)for(u=0,e=l.length;e>u;u+=3)o=l[u],null!=o&&t(n,o,1);n._2=null},n=function(n,i,t){var e;for(e in n._2)l(n,e,i,t)},i.unbind=i.off=function(l,i,t){return this._2&&(null==l&&null==i&&null==t?r(this):null!=l?"string"==typeof l?u(this,l,"string"==typeof i?this[i]:i,t):e(this,l,t||i):n(this,i,t)),this}}(),{VERSION:"1.0.5",isNoisy:c,isEventable:s,InstanceMembers:i,included:function(n){"function"==typeof n.initializer&&n.initializer("publisher-subscriber",function(){null==this._2&&(this._2={}),null==this._3&&(this._3={})})}}})}).call(this);