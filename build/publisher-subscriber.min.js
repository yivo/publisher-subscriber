(function(){!function(n){var l;l="object"==typeof self&&null!==self&&self.self===self?self:"object"==typeof global&&null!==global&&global.global===global?global:void 0,"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?(l.PublisherSubscriber=n(l,Object),define(function(){return l.PublisherSubscriber})):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=n(l,Object):l.PublisherSubscriber=n(l,Object)}(function(n,l){var t,e,i,r,u,o,f,s,_,c,h,a,g,v,b,d,p;return t={},i=null!=(_=null!=(c=n._)?c.generateID:void 0)?_:function(){var n;return n=0,function(){return++n}}(),s=null!=(h=null!=(a=n._)?a.keys:void 0)?h:l.keys,f=null!=l.create?function(){return l.create(null)}:function(){return{}},p=function(n){return null!=n.oid?n.oid:n.oid=i()},b=function(n){return null!=n.__listeners__?n.__listeners__:n.__listeners__=f()},v=function(n,l){var t;return null!=(t=b(n))[l]?t[l]:t[l]=[]},d=function(n){return null!=n.__listening__?n.__listening__:n.__listening__=f()},g=function(n,l){return"string"==typeof l?n[l]:l},r=function(n,l){var t,e,i;t=d(l),i=null!=t[e=p(n)]?t[e]:t[e]=[n,0],i[1]+=1},e=function(n,l,t){var e,i;e=p(n),i=l.__listening__[e],null!=i&&(i[1]-=0|t)<1&&delete l.__listening__[e]},o=function(n){return n!==!1&&(null!=n?n.silent:void 0)!==!0},u=function(n){return(null!=n?n.on:void 0)===t.on},function(){var n,l,e,i,r,u,o,f,_,c;for(_=function(n,l,t,e){var i,r;return i=!1,r=function(){i===!1&&(i=!0,n.off(l,r,e),t.apply(e,arguments))},r._cb=t,r},n=function(n,l,t,e,i){var r;r=i===!0?_(n,l,t,e):t,v(n,l).push(void 0,r,e)},e=function(l,t,e,i,r){var u,o,f;if(t.indexOf(" ")===-1)n(l,t,e,i,r);else for(f=t.length,u=-1,o=0;++u<=f;)u===f||" "===t[u]?o>0&&(n(l,t.slice(u-o,u),e,i,r),o=0):++o},l=function(n,l,t,i){var r,u,o,f;for(f=s(l),o=0,u=f.length;o<u;o++)r=f[o],e(n,r,g(n,l[r]),t,i)},c=["on","once"],i=function(n,i){return t[n]=function(n,t,r){var u;return null!=n&&("string"==typeof n?null!=t&&e(this,n,g(this,t),null!=r?r:this,i):l(this,n,null!=(u=null!=r?r:t)?u:this,i)),this}},r=o=0,u=c.length;o<u;r=++o)f=c[r],i(f,1===r);t.bind=t.on}(),function(){var n,l,e,i,u,o,f,_,c,h;for(c=function(n,l,t,e){var i,r;return i=!1,r=function(){i===!1&&(i=!0,l.stopListening(n,t,r),e.apply(l,arguments))},r._cb=e,r},i=function(n,l,t,e,i){var u;u=i===!0?c(n,l,t,e):e,v(n,t).push(l,u,l),r(n,l)},o=function(n,l,t,e,r){var u,o,f;if(t.indexOf(" ")===-1)i(n,l,t,e,r);else for(f=t.length,u=-1,o=0;++u<=f;)u===f||" "===t[u]?o>0&&(i(n,l,t.slice(u-o,u),e,r),o=0):++o},u=function(n,l,t,e){var i,r,u,f;for(f=s(t),u=0,r=f.length;u<r;u++)i=f[u],o(n,l,i,g(l,t[i]),e)},h=["listenTo","listenToOnce"],n=function(n,l){return t[n]=function(n,t,e){return null!=t&&("string"==typeof t?null!=e&&o(n,this,t,g(this,e),l):u(n,this,t,l)),this}},l=f=0,e=h.length;f<e;l=++f)_=h[l],n(_,1===l)}(),function(){var n,l,i,r,u,o,f,_;n=function(n,l,t){var e,i,r;for(i=n.length,r=[],e=-1;(e+=3)<i;)(l!==n[e-2]||null!=t&&t!==n[e-1]&&t!==n[e-1]._cb)&&r.push(n[e-2],n[e-1],n[e]);return r},i=function(l,t,i,r){var u,o,f,s,_;_=0,s=l.__listeners__,null!=s&&null!=(u=s[i])&&(f=u.length,_+=f,f>2?(o=n(u,t,r),_-=o.length,s[i]=o):s[i]=[]),_>0&&e(l,t,_/3)},_=function(l,t){var i,r,u,o,f,_,c,h,a;for(h=0,_=l.__listeners__,a=s(_),c=0,f=a.length;c<f;c++)r=a[c],i=_[r],o=i.length,h+=o,o>2?(u=n(i,t,null),h-=u.length,_[r]=u):_[r]=[];h>0&&e(l,t,h/3)},f=function(n){var l,t,e,i,r;for(t=n.__listening__,r=s(t),e=0,l=r.length;e<l;e++)i=r[e],_(t[i][0],n)},u=function(n,l,t,e){var i,r,u;for(u=t.length,i=-1,r=0;++i<=u;)i===u||" "===t[i]?r>0&&(o(n,l,t.slice(i-r,i),e),r=0):++r},o=function(n,l,t,e){var r,u,o,f,_,c;for(u=l.__listening__,c=s(u),o=0,r=c.length;o<r;o++)f=c[o],_=u[f],null!=n&&_[0]!==n||i(_[0],l,t,e)},r=function(n,l,t){var e,i,r,o;for(o=s(t),r=0,i=o.length;r<i;r++)e=o[r],u(n,l,e,g(l,t[e]))},l=function(n,l,t){var e,r,u,o,f,_,c,h,a,g,v;for(f=l.__listening__,g=s(f),_=0,r=g.length;_<r;_++)if(h=g[_],a=f[h],null==n||a[0]===n)for(o=a[0].__listeners__,v=s(o),c=0,u=v.length;c<u;c++)e=v[c],i(a[0],l,e,t)},t.stopListening=function(n,t,e){return null!=this.__listening__&&(0===arguments.length?f(this):null!=t?"string"==typeof t?u(n,this,t,g(this,e)):r(n,this,t):l(n,this,g(this,e))),this}}(),function(){var n,l,e;n=function(n,l){var t,e;switch(t=-1,e=n.length,l.length){case 0:for(;(t+=3)<e;)n[t-1].call(n[t]);break;case 1:for(;(t+=3)<e;)n[t-1].call(n[t],l[0]);break;case 2:for(;(t+=3)<e;)n[t-1].call(n[t],l[0],l[1]);break;case 3:for(;(t+=3)<e;)n[t-1].call(n[t],l[0],l[1],l[2]);break;default:for(;(t+=3)<e;)n[t-1].apply(n[t],l)}},e=function(l,t,e){var i,r;i=l[t],r=l.all,(null!=i?i.length:void 0)>0&&((null!=r?r.length:void 0)>0&&(r=r.slice()),n(i,e)),(null!=r?r.length:void 0)>0&&(e.unshift(t),n(r,e),e.shift())},l=function(n,l,t){var i,r,u;for(u=l.length,i=-1,r=0;++i<=u;)i===u||" "===l[i]?r>0&&(e(n,l.slice(i-r,i),t),r=0):++r},t.trigger=t.notify=function(n){var t,i,r,u,o,f,s;if(null!=(o=this.__listeners__)&&(u=arguments.length)>0&&((i=n.indexOf(" "))>-1||(null!=(f=o[n])?f.length:void 0)>0||(null!=(s=o.all)?s.length:void 0)>0)){for(r=0,t=[];++r<u;)t.push(arguments[r]);i>-1?l(o,n,t):e(o,n,t)}return this}}(),function(){var n,l,i,r,u;l=function(n,l,t,i){var r,u,o,f,s;if(null!=(r=n.__listeners__[l])&&!((o=r.length)<3)){for(f=[],u=-1;(u+=3)<o;)null!=t&&t!==r[u-1]&&t!==r[u-1]._cb||null!=i&&i!==r[u]?f.push(r[u-2],r[u-1],r[u]):null!=(s=r[u-2])&&e(n,s,1);n.__listeners__[l]=f}},r=function(n,t,e,i){var r,u,o;for(o=t.length,r=-1,u=0;++r<=o;)r===o||" "===t[r]?u>0&&(l(n,t.slice(r-u,r),e,i),u=0):++u},i=function(n,l,t){var e,i,u,o;for(o=s(l),u=0,i=o.length;u<i;u++)e=o[u],r(n,e,g(n,l[e]),t)},u=function(n){var l,t,i,r,u,o,f,_,c;for(u=n.__listeners__,_=s(u),o=0,i=_.length;o<i;o++)if(t=_[o],null!=(l=u[t]))for(f=0,r=l.length;f<r;f+=3)c=l[f],null!=c&&e(n,c,1);n.__listeners__=null},n=function(n,t,e){var i,r,u,o;for(o=s(n.__listeners__),u=0,r=o.length;u<r;u++)i=o[u],l(n,i,t,e)},t.unbind=t.off=function(l,t,e){return null!=this.__listeners__&&(0===arguments.length?u(this):null!=l?"string"==typeof l?r(this,l,g(this,t),e):i(this,l,null!=e?e:t):n(this,t,e)),this}}(),{VERSION:"1.0.11",isNoisy:o,isEventable:u,InstanceMembers:t}})}).call(this);