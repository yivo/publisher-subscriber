(function(){!function(n){var l;l="object"==typeof self&&null!==self&&self.self===self?self:"object"==typeof global&&null!==global&&global.global===global?global:void 0,"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?(l.PublisherSubscriber=n(l,Object),define(function(){return l.PublisherSubscriber})):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=n(l,Object):l.PublisherSubscriber=n(l,Object)}(function(n,l){var t,e,i,u,r,o,f,s,_,c,h,a,g,v,b,d,p;return t={},i=null!=(_=null!=(c=n._)?c.generateID:void 0)?_:function(){var n;return n=0,function(){return++n}}(),s=null!=(h=null!=(a=n._)?a.keys:void 0)?h:l.keys,f=null!=l.create?function(){return l.create(null)}:function(){return{}},p=function(n){return null!=n.oid?n.oid:n.oid=i()},b=function(n){return null!=n.__listeners__?n.__listeners__:n.__listeners__=f()},v=function(n,l){var t;return null!=(t=b(n))[l]?t[l]:t[l]=[]},d=function(n){return null!=n.__listening__?n.__listening__:n.__listening__=f()},g=function(n,l){return"string"==typeof l?n[l]:l},u=function(n,l){var t,e,i;t=d(l),i=null!=t[e=p(n)]?t[e]:t[e]=[n,0],i[1]+=1},e=function(n,l,t){var e,i;e=p(n),i=l.__listening__[e],null!=i&&(i[1]-=0|t)<1&&delete l.__listening__[e]},o=function(n){return n!==!1&&(null!=n?n.silent:void 0)!==!0},r=function(n){return(null!=n?n.on:void 0)===t.on},function(){var n,l,e,i,u,r,o,f,_,c;for(_=function(n,l,t,e){var i,u;return i=!1,u=function(){i===!1&&(i=!0,n.off(l,u,e),t.apply(e,arguments))},u._cb=t,u},n=function(n,l,t,e,i){var u;u=i===!0?_(n,l,t,e):t,v(n,l).push(void 0,u,e)},e=function(l,t,e,i,u){var r,o,f;if(t.indexOf(" ")===-1)n(l,t,e,i,u);else for(f=t.length,r=-1,o=0;++r<=f;)r===f||" "===t[r]?o>0&&(n(l,t.slice(r-o,r),e,i,u),o=0):++o},l=function(n,l,t,i){var u,r,o,f;for(f=s(l),o=0,r=f.length;o<r;o++)u=f[o],e(n,u,g(n,l[u]),t,i)},c=["on","once"],i=function(n,i){return t[n]=function(n,t,u){var r;return null!=n&&("string"==typeof n?null!=t&&e(this,n,g(this,t),null!=u?u:this,i):l(this,n,null!=(r=null!=u?u:t)?r:this,i)),this}},u=o=0,r=c.length;o<r;u=++o)f=c[u],i(f,1===u);t.bind=t.on}(),function(){var n,l,e,i,r,o,f,_,c,h;for(c=function(n,l,t,e){var i,u;return i=!1,u=function(){i===!1&&(i=!0,l.stopListening(n,t,u),e.apply(l,arguments))},u._cb=e,u},i=function(n,l,t,e,i){var r;r=i===!0?c(n,l,t,e):e,v(n,t).push(l,r,l),u(n,l)},o=function(n,l,t,e,u){var r,o,f;if(t.indexOf(" ")===-1)i(n,l,t,e,u);else for(f=t.length,r=-1,o=0;++r<=f;)r===f||" "===t[r]?o>0&&(i(n,l,t.slice(r-o,r),e,u),o=0):++o},r=function(n,l,t,e){var i,u,r,f;for(f=s(t),r=0,u=f.length;r<u;r++)i=f[r],o(n,l,i,g(l,t[i]),e)},h=["listenTo","listenToOnce"],n=function(n,l){return t[n]=function(n,t,e){return null!=t&&("string"==typeof t?null!=e&&o(n,this,t,g(this,e),l):r(n,this,t,l)),this}},l=f=0,e=h.length;f<e;l=++f)_=h[l],n(_,1===l)}(),function(){var n,l,i,u,r,o,f,_;n=function(n,l,t){var e,i,u;for(i=n.length,u=[],e=-1;(e+=3)<i;)(l!==n[e-2]||null!=t&&t!==n[e-1]&&t!==n[e-1]._cb)&&u.push(n[e-2],n[e-1],n[e]);return u},i=function(l,t,i,u){var r,o,f,s,_;_=0,s=l.__listeners__,null!=s&&null!=(r=s[i])&&(f=r.length,_+=f,f>2?(o=n(r,t,u),_-=o.length,s[i]=o):s[i]=[]),_>0&&e(l,t,_/3)},_=function(l,t){var i,u,r,o,f,_,c,h,a;for(h=0,_=l.__listeners__,a=s(_),c=0,f=a.length;c<f;c++)u=a[c],i=_[u],o=i.length,h+=o,o>2?(r=n(i,t,null),h-=r.length,_[u]=r):_[u]=[];h>0&&e(l,t,h/3)},f=function(n){var l,t,e,i,u;for(t=n.__listening__,u=s(t),e=0,l=u.length;e<l;e++)i=u[e],_(t[i][0],n)},r=function(n,l,t,e){var i,u,r;for(r=t.length,i=-1,u=0;++i<=r;)i===r||" "===t[i]?u>0&&(o(n,l,t.slice(i-u,i),e),u=0):++u},o=function(n,l,t,e){var u,r,o,f,_,c;for(r=l.__listening__,c=s(r),o=0,u=c.length;o<u;o++)f=c[o],_=r[f],null!=n&&_[0]!==n||i(_[0],l,t,e)},u=function(n,l,t){var e,i,u,o;for(o=s(t),u=0,i=o.length;u<i;u++)e=o[u],r(n,l,e,g(l,t[e]))},l=function(n,l,t){var e,u,r,o,f,_,c,h,a,g,v;for(f=l.__listening__,g=s(f),_=0,u=g.length;_<u;_++)if(h=g[_],a=f[h],null==n||a[0]===n)for(o=a[0].__listeners__,v=s(o),c=0,r=v.length;c<r;c++)e=v[c],i(a[0],l,e,t)},t.stopListening=function(n,t,e){return null!=this.__listening__&&(null==n&&null==t&&null==e?f(this):null!=t?"string"==typeof t?r(n,this,t,g(this,e)):u(n,this,t):l(n,this,g(this,e))),this}}(),function(){var n,l,e;n=function(n,l){var t,e;switch(t=-1,e=n.length,l.length){case 0:for(;(t+=3)<e;)n[t-1].call(n[t]);break;case 1:for(;(t+=3)<e;)n[t-1].call(n[t],l[0]);break;case 2:for(;(t+=3)<e;)n[t-1].call(n[t],l[0],l[1]);break;case 3:for(;(t+=3)<e;)n[t-1].call(n[t],l[0],l[1],l[2]);break;default:for(;(t+=3)<e;)n[t-1].apply(n[t],l)}},e=function(l,t,e){var i,u;i=l[t],u=l.all,(null!=i?i.length:void 0)>0&&((null!=u?u.length:void 0)>0&&(u=u.slice()),n(i,e)),(null!=u?u.length:void 0)>0&&(e.unshift(t),n(u,e),e.shift())},l=function(n,l,t){var i,u,r;for(r=l.length,i=-1,u=0;++i<=r;)i===r||" "===l[i]?u>0&&(e(n,l.slice(i-u,i),t),u=0):++u},t.trigger=t.notify=function(n){var t,i,u,r,o,f,s;if(null!=(o=this.__listeners__)&&(r=arguments.length)>0&&((i=n.indexOf(" "))>-1||(null!=(f=o[n])?f.length:void 0)>0||(null!=(s=o.all)?s.length:void 0)>0)){for(u=0,t=[];++u<r;)t.push(arguments[u]);i>-1?l(o,n,t):e(o,n,t)}return this}}(),function(){var n,l,i,u,r;l=function(n,l,t,i){var u,r,o,f,s;if(null!=(u=n.__listeners__[l])&&!((o=u.length)<3)){for(f=[],r=-1;(r+=3)<o;)null!=t&&t!==u[r-1]&&t!==u[r-1]._cb||null!=i&&i!==u[r]?f.push(u[r-2],u[r-1],u[r]):null!=(s=u[r-2])&&e(n,s,1);n.__listeners__[l]=f}},u=function(n,t,e,i){var u,r,o;for(o=t.length,u=-1,r=0;++u<=o;)u===o||" "===t[u]?r>0&&(l(n,t.slice(u-r,u),e,i),r=0):++r},i=function(n,l,t){var e,i,r,o;for(o=s(l),r=0,i=o.length;r<i;r++)e=o[r],u(n,e,g(n,l[e]),t)},r=function(n){var l,t,i,u,r,o,f,_,c;for(r=n.__listeners__,_=s(r),o=0,i=_.length;o<i;o++)if(t=_[o],null!=(l=r[t]))for(f=0,u=l.length;f<u;f+=3)c=l[f],null!=c&&e(n,c,1);n.__listeners__=null},n=function(n,t,e){var i,u,r,o;for(o=s(n.__listeners__),r=0,u=o.length;r<u;r++)i=o[r],l(n,i,t,e)},t.unbind=t.off=function(l,t,e){return null!=this.__listeners__&&(null==l&&null==t&&null==e?r(this):null!=l?"string"==typeof l?u(this,l,g(this,t),e):i(this,l,null!=e?e:t):n(this,t,e)),this}}(),{VERSION:"1.0.11",isNoisy:o,isEventable:r,InstanceMembers:t}})}).call(this);