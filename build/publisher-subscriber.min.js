(function(){var n={}.hasOwnProperty;!function(n){var l;l="object"==typeof self&&null!==self&&self.self===self?self:"object"==typeof global&&null!==global&&global.global===global?global:void 0,"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?(l.PublisherSubscriber=n(l),define(function(){return l.PublisherSubscriber})):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=n(l):l.PublisherSubscriber=n(l)}(function(l){var t,i,u,o,e,r,f,s,c,a,h,g;return t={},o=null!=(a=null!=(h=l._)?h.generateID:void 0)?a:function(){var n;return n=0,function(){return++n}}(),e=function(n){return null!=n.oid?n.oid:n.oid=o()},g=function(n,l){return"string"==typeof l?n[l]:l},r=function(n,l){var t,i,u;t=null!=l._3?l._3:l._3={},u=null!=t[i=null!=n.oid?n.oid:n.oid=o()]?t[i]:t[i]=[n,0],u[1]+=1},i=function(n,l,t){var i,u;i=null!=n.oid?n.oid:n.oid=o(),u=l._3[i],null!=u&&(u[1]-=0|t)<1&&delete l._3[i]},u=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},f=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},s=function(n){return n&&n.on===t.on},function(){var l,i,u,o,e,r,f,s,c;f=function(n,l,t,i){var u,o;return u=!1,o=function(){u===!1&&(u=!0,n.off(l,o,i),t.apply(i,arguments))},o._cb=t,o},l=function(n,l,t,i,u){var o,e;e=u===!0?f(n,l,t,i):t,(null!=(o=null!=n._2?n._2:n._2={})[l]?o[l]:o[l]=[]).push(void 0,e,i)},o=function(n,t,i,u,o){var e,r,f;if(t.indexOf(" ")===-1)l(n,t,i,u,o);else for(f=t.length,e=-1,r=0;++e<=f;)e===f||" "===t[e]?r>0&&(l(n,t.slice(e-r,e),i,u,o),r=0):++r},i=function(n,t,i,u,o){var e,r,f;for(f=0,r=t.length;f<r;f++)e=t[f],l(n,e,i,u,o)},u=function(n,l,t,i){var u;for(u in l)o(n,u,"string"==typeof l[u]?n[l[u]]:l[u],t,i)},s={bind:!1,bindOnce:!0},e=function(n,l){return t[n]=function(n,t,i){var e;return null!=n&&("string"==typeof n?null!=t&&o(this,n,"string"==typeof t?this[t]:t,null!=i?i:this,l):u(this,n,null!=(e=null!=i?i:t)?e:this,l)),this}};for(r in s)n.call(s,r)&&(c=s[r],e(r,c));t.on=t.bind,t.once=t.bindOnce}(),function(){var l,i,u,o,e,f,s,c;f=function(n,l,t,i){var u,o;return u=!1,o=function(){u===!1&&(u=!0,l.stopListening(n,t,o),i.apply(l,arguments))},o._cb=i,o},u=function(n,l,t,i,u){var o,e;e=u===!0?f(n,l,t,i):i,(null!=(o=null!=n._2?n._2:n._2={})[t]?o[t]:o[t]=[]).push(l,e,l),r(n,l)},e=function(n,l,t,i,o){var e,r,f;if(t.indexOf(" ")===-1)u(n,l,t,i,o);else for(f=t.length,e=-1,r=0;++e<=f;)e===f||" "===t[e]?r>0&&(u(n,l,t.slice(e-r,e),i,o),r=0):++r},o=function(n,l,t,i){var u;for(u in t)e(n,l,u,"string"==typeof t[u]?l[t[u]]:t[u],i)},s={listenTo:!1,listenToOnce:!0},l=function(n,l){return t[n]=function(n,t,i){return null!=t&&("string"==typeof t?null!=i&&e(n,this,t,"string"==typeof i?this[i]:i,l):o(n,this,t,l)),this}};for(i in s)n.call(s,i)&&(c=s[i],l(i,c))}(),function(){var l,u,o,e,r,f,s,c;l=function(n,l,t){var i,u,o;for(u=n.length,o=[],i=-1;(i+=3)<u;)(l!==n[i-2]||t&&t!==n[i-1]&&t!==n[i-1]._cb)&&o.push(n[i-2],n[i-1],n[i]);return o},o=function(n,t,u,o){var e,r,f,s,c;s=0,c=n._2,null!=c&&null!=(e=c[u])&&(f=e.length,s+=f,f>2&&(r=l(e,t,o),s-=r.length),c[u]=r,s>0&&i(n,t,s/3))},c=function(n,t){var u,o,e,r,f,s;s=n._2,f=0;for(o in s)u=s[o],null!=u&&(r=u.length,f+=r,r>2&&(e=l(u,t),f-=e.length),s[o]=e);f>0&&i(n,t,f/3)},s=function(n){var l,t,i;i=n._3;for(l in i)t=i[l],c(t[0],n)},r=function(n,l,t,i){var u,o,e;for(e=t.length,u=-1,o=0;++u<=e;)u===e||" "===t[u]?o>0&&(f(n,l,t.slice(u-o,u),i),o=0):++o},f=function(n,l,t,i){var u,e,r;r=l._3;for(u in r)e=r[u],null!=n&&e[0]!==n||o(e[0],l,t,i)},e=function(l,t,i){var u,o;for(o in i)n.call(i,o)&&(u=i[o],r(l,t,o,"string"==typeof i[o]?t[i[o]]:i[o]))},u=function(n,l,t){var i,u,e,r,f;f=l._3;for(e in f)if(r=f[e],null==n||(u=r[0])===n)for(i in u._2)o(u,l,i,t)},t.stopListening=function(n,l,t){return null!=this._3&&(null==n&&null==l&&null==t?s(this):null!=l?"string"==typeof l?r(n,this,l,"string"==typeof t?this[t]:t):e(n,this,l):u(n,this,"string"==typeof t?this[t]:t)),this}}(),function(){var n,l,i;n=function(n,l){var t,i,u,o,e;switch(o=-1,e=n.length,e>0&&(t=l[0]),e>1&&(i=l[1]),e>2&&(u=l[2]),l.length){case 0:for(;(o+=3)<e;)n[o-1].call(n[o]);break;case 1:for(;(o+=3)<e;)n[o-1].call(n[o],t);break;case 2:for(;(o+=3)<e;)n[o-1].call(n[o],t,i);break;case 3:for(;(o+=3)<e;)n[o-1].call(n[o],t,i,u);break;default:for(;(o+=3)<e;)n[o-1].apply(n[o],l)}},i=function(l,t,i){var u,o,e,r,f,s;if(r=l[t],u=l.all,null!=r&&r.length>0){if(null!=u&&u.length>0)for(s=u,u=[],f=0,e=s.length;f<e;f++)o=s[f],u.push(o);n(r,i)}null!=u&&u.length>0&&(i.unshift(t),n(u,i),i.shift())},l=function(n,l,t){var u,o,e;for(e=l.length,u=-1,o=0;++u<=e;)u===e||" "===l[u]?o>0&&(i(n,l.slice(u-o,u),t),o=0):++o},t.trigger=t.notify=function(n){var t,u,o,e,r,f,s;if(null!=(r=this._2)&&(e=arguments.length)>0&&((u=n.indexOf(" "))>-1||null!=(f=r[n])&&f.length>0||null!=(s=r.all)&&s.length>0)){for(o=0,t=[];++o<e;)t.push(arguments[o]);u>-1?l(r,n,t):i(r,n,t)}return this}}(),function(){var n,l,u,o,e;l=function(n,l,t,u){var o,e,r,f,s;if(null!=(o=n._2[l])&&!((r=o.length)<3)){for(f=null,e=-1;(e+=3)<r;)null!=t&&t!==o[e-1]&&t!==o[e-1]._cb||null!=u&&u!==o[e]?(null!=f?f:f=[]).push(o[e-2],o[e-1],o[e]):null!=(s=o[e-2])&&i(n,s,1);n._2[l]=f}},o=function(n,t,i,u){var o,e,r;for(r=t.length,o=-1,e=0;++o<=r;)o===r||" "===t[o]?e>0&&(l(n,t.slice(o-e,o),i,u),e=0):++e},u=function(n,l,t){var i;for(i in l)o(n,i,"string"==typeof l[i]?n[l[i]]:l[i],t)},e=function(n){var l,t,u,o,e,r;e=n._2;for(t in e)if(l=e[t],null!=l)for(o=0,u=l.length;o<u;o+=3)r=l[o],null!=r&&i(n,r,1);n._2=null},n=function(n,t,i){var u;for(u in n._2)l(n,u,t,i)},t.unbind=t.off=function(l,t,i){return this._2&&(null==l&&null==t&&null==i?e(this):null!=l?"string"==typeof l?o(this,l,"string"==typeof t?this[t]:t,i):u(this,l,null!=i?i:t):n(this,t,i)),this}}(),{VERSION:"1.0.9",isNoisy:c,isEventable:s,InstanceMembers:t,included:function(n){"function"==typeof n.initializer&&n.initializer("publisher-subscriber",function(){null==this.oid&&(this.oid=o()),null==this._2&&(this._2={}),null==this._3&&(this._3={})})}}})}).call(this);