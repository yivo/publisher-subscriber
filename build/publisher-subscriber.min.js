(function(){var n={}.hasOwnProperty;!function(n){var t;t="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(t.PublisherSubscriber=n(t),define(function(){return t.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(t):t.PublisherSubscriber=n(t)}(function(t){var i,l,o,e,r,u,f,s,c,a,h;return i={},e=(null!=(a=t._)?a.generateID:void 0)||function(){var n;return n=0,function(){return++n}}(),r=function(n){return null!=n.oid?n.oid:n.oid=e()},h=function(n,t){return"string"==typeof t?n[t]:t},u=function(n,t){var i,l,o;i=null!=t._3?t._3:t._3={},o=null!=i[l=null!=n.oid?n.oid:n.oid=e()]?i[l]:i[l]=[n,0],o[1]+=1},l=function(n,t,i){var l,o;l=null!=n.oid?n.oid:n.oid=e(),o=t._3[l],null!=o&&(o[1]-=0|i)<1&&delete t._3[l]},o=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},f=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},s=function(n){return n&&n.on===i.on},function(){var t,l,o,e,r,u,f,s,c;f=function(n,t,i,l){var o,e;return o=!1,e=function(){o||(o=!0,n.off(t,e,l),i.apply(l,arguments))},e._cb=i,e},t=function(n,t,i,l,o){var e,r;return r=o===!0?f(n,t,i,l):i,(null!=(e=null!=n._2?n._2:n._2={})[t]?e[t]:e[t]=[]).push(void 0,r,l)},e=function(n,i,l,o,e){var r,u,f;if(-1===i.indexOf(" "))t(n,i,l,o,e);else for(f=i.length,r=-1,u=0;++r<=f;)r===f||" "===i[r]?u>0&&(t(n,i.slice(r-u,r),l,o,e),u=0):++u},l=function(n,i,l,o,e){var r,u,f;for(f=0,u=i.length;u>f;f++)r=i[f],t(n,r,l,o,e)},o=function(n,t,i,l){var o;for(o in t)e(n,o,"string"==typeof t[o]?n[t[o]]:t[o],i,l)},s={bind:!1,bindOnce:!0},r=function(n,t){return i[n]=function(n,i,l){return"string"==typeof n?i&&e(this,n,"string"==typeof i?this[i]:i,l||this,t):o(this,n,l||i||this,t),this}};for(u in s)n.call(s,u)&&(c=s[u],r(u,c));i.on=i.bind,i.once=i.bindOnce}(),function(){var t,l,o,e,r,f,s,c;f=function(n,t,i,l){var o,e;return o=!1,e=function(){o||(o=!0,t.stopListening(n,i,e),l.apply(t,arguments))},e._cb=l,e},o=function(n,t,i,l,o){var e,r;r=o===!0?f(n,t,i,l):l,(null!=(e=null!=n._2?n._2:n._2={})[i]?e[i]:e[i]=[]).push(t,r,t),u(n,t)},r=function(n,t,i,l,e){var r,u,f;if(-1===i.indexOf(" "))o(n,t,i,l,e);else for(f=i.length,r=-1,u=0;++r<=f;)r===f||" "===i[r]?u>0&&(o(n,t,i.slice(r-u,r),l,e),u=0):++u},e=function(n,t,i,l){var o;for(o in i)r(n,t,o,"string"==typeof i[o]?t[i[o]]:i[o],l)},s={listenTo:!1,listenToOnce:!0},t=function(n,t){return i[n]=function(n,i,l){return"string"==typeof i?l&&r(n,this,i,"string"==typeof l?this[l]:l,t):e(n,this,i,t),this}};for(l in s)n.call(s,l)&&(c=s[l],t(l,c))}(),function(){var t,o,e,r,u,f,s,c;t=function(n,t,i){var l,o,e;for(o=n.length,e=[],l=-1;(l+=3)<o;)(t!==n[l-2]||i&&i!==n[l-1]&&i!==n[l-1]._cb)&&e.push(n[l-2],n[l-1],n[l]);return e},e=function(n,i,o,e){var r,u,f,s,c,a;c=0,a=n._2,u=o,null!=a&&null!=(r=a[u])&&(s=r.length,c+=s,s>2&&(f=t(r,i,e),c-=f.length),a[u]=f,c>0&&l(n,i,c/3))},c=function(n,i){var o,e,r,u,f,s;s=n._2,f=0;for(e in s)o=s[e],null!=o&&(u=o.length,f+=u,u>2&&(r=t(o,i),f-=r.length),s[e]=r);f>0&&l(n,i,f/3)},s=function(n){var t,i,l;l=n._3;for(t in l)i=l[t],c(i[0],n)},u=function(n,t,i,l){var o,e,r;for(r=i.length,o=-1,e=0;++o<=r;)o===r||" "===i[o]?e>0&&(f(n,t,i.slice(o-e,o),l),e=0):++e},f=function(n,t,i,l){var o,r,u;u=t._3;for(o in u)r=u[o],(null==n||r[0]===n)&&e(r[0],t,i,l)},r=function(t,i,l){var o,e;for(e in l)n.call(l,e)&&(o=l[e],u(t,i,e,"string"==typeof l[e]?i[l[e]]:l[e]))},o=function(n,t,i){var l,o,r,u,f;f=t._3;for(r in f)if(u=f[r],null==n||(o=u[0])===n)for(l in o._2)e(o,t,l,i)},i.stopListening=function(n,t,i){return null!=this._3&&(null==n&&null==t&&null==i?s(this):null!=t?"string"==typeof t?u(n,this,t,"string"==typeof i?this[i]:i):r(n,this,t):o(n,this,"string"==typeof i?this[i]:i)),this}}(),function(){var n,t,l;n=function(n,t){var i,l,o,e,r;switch(e=-1,r=n.length,r>0&&(i=t[0]),r>1&&(l=t[1]),r>2&&(o=t[2]),t.length){case 0:for(;(e+=3)<r;)n[e-1].call(n[e]);break;case 1:for(;(e+=3)<r;)n[e-1].call(n[e],i);break;case 2:for(;(e+=3)<r;)n[e-1].call(n[e],i,l);break;case 3:for(;(e+=3)<r;)n[e-1].call(n[e],i,l,o);break;default:for(;(e+=3)<r;)n[e-1].apply(n[e],t)}},l=function(t,i,l){var o,e,r,u,f,s;if(u=t[i],o=t.all,(null!=u?u.length:void 0)>0){if(null!=o)for(s=o,o=[],f=0,r=s.length;r>f;f++)e=s[f],o.push(e);n(u,l)}(null!=o?o.length:void 0)>0&&(l.unshift(i),n(o,l),l.shift())},t=function(n,t,i){var o,e,r;for(r=t.length,o=-1,e=0;++o<=r;)o===r||" "===t[o]?e>0&&(l(n,t.slice(o-e,o),i),e=0):++e},i.trigger=i.notify=function(n){var i,o,e,r,u;if(null!=(r=this._2)&&(e=arguments.length)>0&&(u=n.indexOf(" ")>-1||null!=r[n]||null!=r.all)){for(o=0,i=[];++o<e;)i.push(arguments[o]);u===!0?t(r,n,i):l(r,n,i)}return this}}(),function(){var n,t,o,e,r;t=function(n,t,i,o){var e,r,u,f,s,c;if(r=t,null!=(e=n._2[r])&&!((f=e.length)<3)){for(s=null,u=-1;(u+=3)<f;)null!=i&&i!==e[u-1]&&i!==e[u-1]._cb||null!=o&&o!==e[u]?(null!=s?s:s=[]).push(e[u-2],e[u-1],e[u]):null!=(c=e[u-2])&&l(n,c,1);n._2[r]=s}},e=function(n,i,l,o){var e,r,u;for(u=i.length,e=-1,r=0;++e<=u;)e===u||" "===i[e]?r>0&&(t(n,i.slice(e-r,e),l,o),r=0):++r},o=function(n,t,i){var l;for(l in t)e(n,l,"string"==typeof t[l]?n[t[l]]:t[l],i)},r=function(n){var t,i,o,e,r,u;r=n._2;for(i in r)if(t=r[i],null!=t)for(e=0,o=t.length;o>e;e+=3)u=t[e],null!=u&&l(n,u,1);n._2=null},n=function(n,i,l){var o;for(o in n._2)t(n,o,i,l)},i.unbind=i.off=function(t,i,l){return this._2&&(null==t&&null==i&&null==l?r(this):null!=t?"string"==typeof t?e(this,t,"string"==typeof i?this[i]:i,l):o(this,t,l||i):n(this,i,l)),this}}(),{VERSION:"1.0.7",isNoisy:c,isEventable:s,InstanceMembers:i,included:function(n){"function"==typeof n.initializer&&n.initializer("publisher-subscriber",function(){null==this._2&&(this._2={}),null==this._3&&(this._3={})})}}})}).call(this);