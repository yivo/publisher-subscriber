(function(){var n={}.hasOwnProperty;!function(n){var i;i="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(i.PublisherSubscriber=n(i),define(function(){return i.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(i):i.PublisherSubscriber=n(i)}(function(i){var l,t,e,o,r,u,f,s,c,p,a;return l={},o=(null!=(p=i._)?p.generateID:void 0)||function(){var n;return n=0,function(){return++n}}(),r=function(n){return null!=n.oid?n.oid:n.oid=o()},a=function(n,i){return"string"==typeof i?n[i]:i},u=function(n,i){var l,t,e;l=null!=i._psTo?i._psTo:i._psTo={},e=null!=l[t=null!=n.oid?n.oid:n.oid=o()]?l[t]:l[t]=[n,0],e[1]+=1},t=function(n,i,l){var t,e;t=null!=n.oid?n.oid:n.oid=o(),e=i._psTo[t],null!=e&&(e[1]-=0|l)<1&&delete i._psTo[t]},e=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},f=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},s=function(n){return n&&n.on===l.on},function(){var i,t,e,o,r,u,f,s,c;f=function(n,i,l,t){var e,o;return e=!1,o=function(){e||(e=!0,n.off(i,o,t),l.apply(t,arguments))},o._cb=l,o},i=function(n,i,l,t,e){var o,r,u;return r=e===!0?f(n,i,l,t):l,(null!=(o=null!=n._ps?n._ps:n._ps={})[u=i.indexOf(":")>-1?i.replace(/:/g,"_"):i]?o[u]:o[u]=[]).push(void 0,r,t)},o=function(n,i,l,t,e){var o,r,u,s,c,p,a,h,g;if(-1===i.indexOf(" "))u=e===!0?f(n,i,l,t):l,(null!=(o=null!=n._ps?n._ps:n._ps={})[h=i.indexOf(":")>-1?i.replace(/:/g,"_"):i]?o[h]:o[h]=[]).push(void 0,u,t);else for(a=i.length,c=-1,p=0;++c<=a;)c===a||" "===i[c]?p>0&&(s=i.slice(c-p,c),u=e===!0?f(n,s,l,t):l,(null!=(r=null!=n._ps?n._ps:n._ps={})[g=s.indexOf(":")>-1?s.replace(/:/g,"_"):s]?r[g]:r[g]=[]).push(void 0,u,t),p=0):++p},t=function(n,l,t,e,o){var r,u,f;for(f=0,u=l.length;u>f;f++)r=l[f],i(n,r,t,e,o)},e=function(n,i,l,t){var e;for(e in i)o(n,e,"string"==typeof i[e]?n[i[e]]:i[e],l,t)},s={bind:!1,bindOnce:!0},r=function(n,i){return l[n]=function(n,l,t){return"string"==typeof n?l&&o(this,n,"string"==typeof l?this[l]:l,t||this,i):e(this,n,t||l||this,i),this}};for(u in s)n.call(s,u)&&(c=s[u],r(u,c));l.on=l.bind,l.once=l.bindOnce}(),function(){var i,t,e,r,u,f,s,c;f=function(n,i,l,t){var e,o;return e=!1,o=function(){e||(e=!0,i.stopListening(n,l,o),t.apply(i,arguments))},o._cb=t,o},e=function(n,i,l,t,e){var r,u,s,c,p,a;u=e===!0?f(n,i,l,t):t,(null!=(r=null!=n._ps?n._ps:n._ps={})[c=l.indexOf(":")>-1?l.replace(/:/g,"_"):l]?r[c]:r[c]=[]).push(i,u,i),s=null!=i._psTo?i._psTo:i._psTo={},a=null!=s[p=null!=n.oid?n.oid:n.oid=o()]?s[p]:s[p]=[n,0],a[1]+=1},u=function(n,i,l,t,o){var r,u,f;if(-1===l.indexOf(" "))e(n,i,l,t,o);else for(f=l.length,r=-1,u=0;++r<=f;)r===f||" "===l[r]?u>0&&(e(n,i,l.slice(r-u,r),t,o),u=0):++u},r=function(n,i,l,t){var e;for(e in l)u(n,i,e,"string"==typeof l[e]?i[l[e]]:l[e],t)},s={listenTo:!1,listenToOnce:!0},i=function(n,i){return l[n]=function(n,l,t){return"string"==typeof l?t&&u(n,this,l,"string"==typeof t?this[t]:t,i):r(n,this,l,i),this}};for(t in s)n.call(s,t)&&(c=s[t],i(t,c))}(),function(){var i,e,o,r,u,f,s,c;i=function(n,i,l){var t,e,o;for(e=n.length,o=[],t=-1;(t+=3)<e;)(i!==n[t-2]||l&&l!==n[t-1]&&l!==n[t-1]._cb)&&o.push(n[t-2],n[t-1],n[t]);return o},o=function(n,l,e,o){var r,u,f,s,c,p;c=0,p=n._ps,u=e.indexOf(":")>-1?e.replace(/:/g,"_"):e,null!=p&&null!=(r=p[u])&&(s=r.length,c+=s,s>2&&(f=i(r,l,o),c-=f.length),p[u]=f,c>0&&t(n,l,c/3))},c=function(n,l){var e,o,r,u,f,s;s=n._ps,f=0;for(o in s)e=s[o],null!=e&&(u=e.length,f+=u,u>2&&(r=i(e,l),f-=r.length),s[o]=r);f>0&&t(n,l,f/3)},s=function(n){var i,l,t;t=n._psTo;for(i in t)l=t[i],c(l[0],n)},u=function(n,i,l,t){var e,o,r;for(r=l.length,e=-1,o=0;++e<=r;)e===r||" "===l[e]?o>0&&(f(n,i,l.slice(e-o,e),t),o=0):++o},f=function(n,i,l,t){var e,r,u;u=i._psTo;for(e in u)r=u[e],(null==n||r[0]===n)&&o(r[0],i,l,t)},r=function(i,l,t){var e,o;for(o in t)n.call(t,o)&&(e=t[o],u(i,l,o,"string"==typeof t[o]?l[t[o]]:t[o]))},e=function(n,i,l){var t,e,r,u,f;f=i._psTo;for(r in f)if(u=f[r],null==n||(e=u[0])===n)for(t in e._ps)o(e,i,t,l)},l.stopListening=function(n,i,l){return null!=this._psTo&&(null==n&&null==i&&null==l?s(this):null!=i?"string"==typeof i?u(n,this,i,"string"==typeof l?this[l]:l):r(n,this,i):e(n,this,"string"==typeof l?this[l]:l)),this}}(),function(){var n,i,t;n=function(n,i){var l,t,e,o,r;if(0!==n.length)switch(o=-1,r=n.length,l=r>0&&i[0],t=r>1&&i[1],e=r>2&&i[2],i.length){case 0:for(;(o+=3)<r;)n[o-1].call(n[o]);break;case 1:for(;(o+=3)<r;)n[o-1].call(n[o],l);break;case 2:for(;(o+=3)<r;)n[o-1].call(n[o],l,t);break;case 3:for(;(o+=3)<r;)n[o-1].call(n[o],l,t,e);break;default:for(;(o+=3)<r;)n[o-1].apply(n[o],i)}},t=function(i,l,t){var e,o,r,u,f,s;if(u=i[l.indexOf(":")>-1?l.replace(/:/g,"_"):l],e=i.all,null!=u){if(null!=e)for(s=e,e=[],f=0,r=s.length;r>f;f++)o=s[f],e.push(o);n(u,t)}null!=e&&(t.unshift(l),n(e,t),t.shift())},i=function(n,i,l){var e,o,r;for(r=i.length,e=-1,o=0;++e<=r;)e===r||" "===i[e]?o>0&&(t(n,i.slice(e-o,e),l),o=0):++o},l.trigger=l.notify=function(n){var l,e,o,r,u;if(null!=(r=this._ps)&&(o=arguments.length)>0&&(u=n.indexOf(" ")>-1||null!=r[n.indexOf(":")>-1?n.replace(/:/g,"_"):n]||null!=r.all)){for(e=0,l=[];++e<o;)l.push(arguments[e]);u===!0?i(r,n,l):t(r,n,l)}return this}}(),function(){var n,i,e,o,r;i=function(n,i,l,e){var o,r,u,f,s,c;if(r=i.indexOf(":")>-1?i.replace(/:/g,"_"):i,null!=(o=n._ps[r])&&!((f=o.length)<3)){for(s=null,u=-1;(u+=3)<f;)null!=l&&l!==o[u-1]&&l!==o[u-1]._cb||null!=e&&e!==o[u]?(null!=s?s:s=[]).push(o[u-2],o[u-1],o[u]):null!=(c=o[u-2])&&t(n,c,1);n._ps[r]=s}},o=function(n,l,t,e){var o,r,u;for(u=l.length,o=-1,r=0;++o<=u;)o===u||" "===l[o]?r>0&&(i(n,l.slice(o-r,o),t,e),r=0):++r},e=function(n,i,l){var t;for(t in i)o(n,t,"string"==typeof i[t]?n[i[t]]:i[t],l)},r=function(n){var i,l,e,o,r,u;r=n._ps;for(l in r)if(i=r[l],null!=i)for(o=0,e=i.length;e>o;o+=3)u=i[o],null!=u&&t(n,u,1);n._ps=null},n=function(n,l,t){var e;for(e in n._ps)i(n,e,l,t)},l.unbind=l.off=function(i,l,t){return this._ps&&(null==i&&null==l&&null==t?r(this):null!=i?"string"==typeof i?o(this,i,"string"==typeof l?this[l]:l,t):e(this,i,t||l):n(this,l,t)),this}}(),{VERSION:"1.0.3",isNoisy:c,isEventable:s,InstanceMembers:l,included:function(n){return"function"==typeof n.initializer?n.initializer(function(){this._ps={},this._psTo={}}):void 0}}})}).call(this);