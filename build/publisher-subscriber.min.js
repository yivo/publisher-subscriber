(function(){var n={}.hasOwnProperty;!function(n){var t;t="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?(t.PublisherSubscriber=n(t),define(function(){return t.PublisherSubscriber})):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=n(t):t.PublisherSubscriber=n(t)}(function(t){var i,l,o,r,u,e,f,s,c,a,h;return i={},r=(null!=(a=t._)?a.generateID:void 0)||function(){var n;return n=0,function(){return++n}}(),u=function(n){return null!=n.oid?n.oid:n.oid=r()},h=function(n,t){return"string"==typeof t?n[t]:t},e=function(n,t){var i,l,o;i=null!=t._3?t._3:t._3={},o=null!=i[l=null!=n.oid?n.oid:n.oid=r()]?i[l]:i[l]=[n,0],o[1]+=1},l=function(n,t,i){var l,o;l=null!=n.oid?n.oid:n.oid=r(),o=t._3[l],null!=o&&(o[1]-=0|i)<1&&delete t._3[l]},o=function(n){return n.indexOf(":")>-1?n.replace(/:/g,"_"):n},f=function(n){return null!=n&&"number"==typeof n.length},c=function(n){return n!==!1&&(n&&n.silent)!==!0},s=function(n){return n&&n.on===i.on},function(){var t,l,o,r,u,e,f,s,c;f=function(n,t,i,l){var o,r;return o=!1,r=function(){o||(o=!0,n.off(t,r,l),i.apply(l,arguments))},r._cb=i,r},t=function(n,t,i,l,o){var r,u;return u=o===!0?f(n,t,i,l):i,(null!=(r=null!=n._2?n._2:n._2={})[t]?r[t]:r[t]=[]).push(void 0,u,l)},r=function(n,i,l,o,r){var u,e,f;if(-1===i.indexOf(" "))t(n,i,l,o,r);else for(f=i.length,u=-1,e=0;++u<=f;)u===f||" "===i[u]?e>0&&(t(n,i.slice(u-e,u),l,o,r),e=0):++e},l=function(n,i,l,o,r){var u,e,f;for(f=0,e=i.length;e>f;f++)u=i[f],t(n,u,l,o,r)},o=function(n,t,i,l){var o;for(o in t)r(n,o,"string"==typeof t[o]?n[t[o]]:t[o],i,l)},s={bind:!1,bindOnce:!0},u=function(n,t){return i[n]=function(n,i,l){return"string"==typeof n?i&&r(this,n,"string"==typeof i?this[i]:i,l||this,t):o(this,n,l||i||this,t),this}};for(e in s)n.call(s,e)&&(c=s[e],u(e,c));i.on=i.bind,i.once=i.bindOnce}(),function(){var t,l,o,r,u,f,s,c;f=function(n,t,i,l){var o,r;return o=!1,r=function(){o||(o=!0,t.stopListening(n,i,r),l.apply(t,arguments))},r._cb=l,r},o=function(n,t,i,l,o){var r,u;u=o===!0?f(n,t,i,l):l,(null!=(r=null!=n._2?n._2:n._2={})[i]?r[i]:r[i]=[]).push(t,u,t),e(n,t)},u=function(n,t,i,l,r){var u,e,f;if(-1===i.indexOf(" "))o(n,t,i,l,r);else for(f=i.length,u=-1,e=0;++u<=f;)u===f||" "===i[u]?e>0&&(o(n,t,i.slice(u-e,u),l,r),e=0):++e},r=function(n,t,i,l){var o;for(o in i)u(n,t,o,"string"==typeof i[o]?t[i[o]]:i[o],l)},s={listenTo:!1,listenToOnce:!0},t=function(n,t){return i[n]=function(n,i,l){return"string"==typeof i?l&&u(n,this,i,"string"==typeof l?this[l]:l,t):r(n,this,i,t),this}};for(l in s)n.call(s,l)&&(c=s[l],t(l,c))}(),function(){var t,o,r,u,e,f,s,c;t=function(n,t,i){var l,o,r;for(o=n.length,r=[],l=-1;(l+=3)<o;)(t!==n[l-2]||i&&i!==n[l-1]&&i!==n[l-1]._cb)&&r.push(n[l-2],n[l-1],n[l]);return r},r=function(n,i,o,r){var u,e,f,s,c,a;c=0,a=n._2,e=o,null!=a&&null!=(u=a[e])&&(s=u.length,c+=s,s>2&&(f=t(u,i,r),c-=f.length),a[e]=f,c>0&&l(n,i,c/3))},c=function(n,i){var o,r,u,e,f,s;s=n._2,f=0;for(r in s)o=s[r],null!=o&&(e=o.length,f+=e,e>2&&(u=t(o,i),f-=u.length),s[r]=u);f>0&&l(n,i,f/3)},s=function(n){var t,i,l;l=n._3;for(t in l)i=l[t],c(i[0],n)},e=function(n,t,i,l){var o,r,u;for(u=i.length,o=-1,r=0;++o<=u;)o===u||" "===i[o]?r>0&&(f(n,t,i.slice(o-r,o),l),r=0):++r},f=function(n,t,i,l){var o,u,e;e=t._3;for(o in e)u=e[o],(null==n||u[0]===n)&&r(u[0],t,i,l)},u=function(t,i,l){var o,r;for(r in l)n.call(l,r)&&(o=l[r],e(t,i,r,"string"==typeof l[r]?i[l[r]]:l[r]))},o=function(n,t,i){var l,o,u,e,f;f=t._3;for(u in f)if(e=f[u],null==n||(o=e[0])===n)for(l in o._2)r(o,t,l,i)},i.stopListening=function(n,t,i){return null!=this._3&&(null==n&&null==t&&null==i?s(this):null!=t?"string"==typeof t?e(n,this,t,"string"==typeof i?this[i]:i):u(n,this,t):o(n,this,"string"==typeof i?this[i]:i)),this}}(),function(){var n,t,l;n=function(n,t){var i,l,o,r,u;if(0!==n.length)switch(r=-1,u=n.length,i=u>0&&t[0],l=u>1&&t[1],o=u>2&&t[2],t.length){case 0:for(;(r+=3)<u;)n[r-1].call(n[r]);break;case 1:for(;(r+=3)<u;)n[r-1].call(n[r],i);break;case 2:for(;(r+=3)<u;)n[r-1].call(n[r],i,l);break;case 3:for(;(r+=3)<u;)n[r-1].call(n[r],i,l,o);break;default:for(;(r+=3)<u;)n[r-1].apply(n[r],t)}},l=function(t,i,l){var o,r,u,e,f,s;if(e=t[i],o=t.all,null!=e){if(null!=o)for(s=o,o=[],f=0,u=s.length;u>f;f++)r=s[f],o.push(r);n(e,l)}null!=o&&(l.unshift(i),n(o,l),l.shift())},t=function(n,t,i){var o,r,u;for(u=t.length,o=-1,r=0;++o<=u;)o===u||" "===t[o]?r>0&&(l(n,t.slice(o-r,o),i),r=0):++r},i.trigger=i.notify=function(n){var i,o,r,u,e;if(null!=(u=this._2)&&(r=arguments.length)>0&&(e=n.indexOf(" ")>-1||null!=u[n]||null!=u.all)){for(o=0,i=[];++o<r;)i.push(arguments[o]);e===!0?t(u,n,i):l(u,n,i)}return this}}(),function(){var n,t,o,r,u;t=function(n,t,i,o){var r,u,e,f,s,c;if(u=t,null!=(r=n._2[u])&&!((f=r.length)<3)){for(s=null,e=-1;(e+=3)<f;)null!=i&&i!==r[e-1]&&i!==r[e-1]._cb||null!=o&&o!==r[e]?(null!=s?s:s=[]).push(r[e-2],r[e-1],r[e]):null!=(c=r[e-2])&&l(n,c,1);n._2[u]=s}},r=function(n,i,l,o){var r,u,e;for(e=i.length,r=-1,u=0;++r<=e;)r===e||" "===i[r]?u>0&&(t(n,i.slice(r-u,r),l,o),u=0):++u},o=function(n,t,i){var l;for(l in t)r(n,l,"string"==typeof t[l]?n[t[l]]:t[l],i)},u=function(n){var t,i,o,r,u,e;u=n._2;for(i in u)if(t=u[i],null!=t)for(r=0,o=t.length;o>r;r+=3)e=t[r],null!=e&&l(n,e,1);n._2=null},n=function(n,i,l){var o;for(o in n._2)t(n,o,i,l)},i.unbind=i.off=function(t,i,l){return this._2&&(null==t&&null==i&&null==l?u(this):null!=t?"string"==typeof t?r(this,t,"string"==typeof i?this[i]:i,l):o(this,t,l||i):n(this,i,l)),this}}(),{VERSION:"1.0.6",isNoisy:c,isEventable:s,InstanceMembers:i,included:function(n){"function"==typeof n.initializer&&n.initializer("publisher-subscriber",function(){null==this._2&&(this._2={}),null==this._3&&(this._3={})})}}})}).call(this);